(()=>{"use strict";var e={3470:(e,t,o)=>{var r,n=o(603),i=o(467),a=o(296),s=o(6520),l=o(6665),d=o(1739),c=o(4467),u=o(6950),f=o(7908);function g(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function h(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?g(Object(o),!0).forEach(function(t){(0,c.default)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):g(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var p=function(){var e,t=null==(e=u.default.expoConfig)?void 0:e.extra;return{apiKey:(null==t?void 0:t.FIREBASE_API_KEY)||{NODE_ENV:"production",PUBLIC_URL:"/ismailfadlalla/ChordsLegend",APP_MANIFEST:{name:"ChordsLegend",slug:"chordslegend",description:"Professional AI-powered chord detection and analysis mobile application with Pi Network integration for interactive music learning",version:"2.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash-icon.png",resizeMode:"contain",backgroundColor:"#ffffff"},extra:{eas:{projectId:"b3bce86d-1a9c-49a3-99f1-26f00a0ffb23"},YOUTUBE_API_KEY:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",youtubeApiKey:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",FIREBASE_API_KEY:"AIzaSyALL-rz-I971ihPTi3XBxYWesjp4rxekww",FIREBASE_AUTH_DOMAIN:"chords-legend.firebaseapp.com",FIREBASE_PROJECT_ID:"chords-legend",FIREBASE_STORAGE_BUCKET:"chords-legend.firebasestorage.app",FIREBASE_MESSAGING_SENDER_ID:"509802787175",FIREBASE_APP_ID:"1:509802787175:web:d0bf54cff762cbcff5bfc2",FIREBASE_MEASUREMENT_ID:"G-3475JNYYQV",SENTRY_DSN:"your_sentry_dsn_here",SENTRY_ORG:"your_sentry_org",SENTRY_PROJECT:"your_sentry_project",API_URL:"https://chordslegend-production.up.railway.app",PI_API_KEY:"4i3rkzifnb5q19uwojg0egsm8pgvkgyjh56umldgu9oiyvijf6n72vaxqgackspc",PI_APP_ID:"your_pi_app_id_here",PI_APP_USERNAME:"chordslegend",PI_ENVIRONMENT:"sandbox"},web:{},sdkVersion:"48.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_API_KEY||{NODE_ENV:"production",PUBLIC_URL:"/ismailfadlalla/ChordsLegend",APP_MANIFEST:{name:"ChordsLegend",slug:"chordslegend",description:"Professional AI-powered chord detection and analysis mobile application with Pi Network integration for interactive music learning",version:"2.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash-icon.png",resizeMode:"contain",backgroundColor:"#ffffff"},extra:{eas:{projectId:"b3bce86d-1a9c-49a3-99f1-26f00a0ffb23"},YOUTUBE_API_KEY:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",youtubeApiKey:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",FIREBASE_API_KEY:"AIzaSyALL-rz-I971ihPTi3XBxYWesjp4rxekww",FIREBASE_AUTH_DOMAIN:"chords-legend.firebaseapp.com",FIREBASE_PROJECT_ID:"chords-legend",FIREBASE_STORAGE_BUCKET:"chords-legend.firebasestorage.app",FIREBASE_MESSAGING_SENDER_ID:"509802787175",FIREBASE_APP_ID:"1:509802787175:web:d0bf54cff762cbcff5bfc2",FIREBASE_MEASUREMENT_ID:"G-3475JNYYQV",SENTRY_DSN:"your_sentry_dsn_here",SENTRY_ORG:"your_sentry_org",SENTRY_PROJECT:"your_sentry_project",API_URL:"https://chordslegend-production.up.railway.app",PI_API_KEY:"4i3rkzifnb5q19uwojg0egsm8pgvkgyjh56umldgu9oiyvijf6n72vaxqgackspc",PI_APP_ID:"your_pi_app_id_here",PI_APP_USERNAME:"chordslegend",PI_ENVIRONMENT:"sandbox"},web:{},sdkVersion:"48.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.FIREBASE_API_KEY||"your-firebase-api-key-here",authDomain:(null==t?void 0:t.FIREBASE_AUTH_DOMAIN)||{NODE_ENV:"production",PUBLIC_URL:"/ismailfadlalla/ChordsLegend",APP_MANIFEST:{name:"ChordsLegend",slug:"chordslegend",description:"Professional AI-powered chord detection and analysis mobile application with Pi Network integration for interactive music learning",version:"2.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash-icon.png",resizeMode:"contain",backgroundColor:"#ffffff"},extra:{eas:{projectId:"b3bce86d-1a9c-49a3-99f1-26f00a0ffb23"},YOUTUBE_API_KEY:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",youtubeApiKey:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",FIREBASE_API_KEY:"AIzaSyALL-rz-I971ihPTi3XBxYWesjp4rxekww",FIREBASE_AUTH_DOMAIN:"chords-legend.firebaseapp.com",FIREBASE_PROJECT_ID:"chords-legend",FIREBASE_STORAGE_BUCKET:"chords-legend.firebasestorage.app",FIREBASE_MESSAGING_SENDER_ID:"509802787175",FIREBASE_APP_ID:"1:509802787175:web:d0bf54cff762cbcff5bfc2",FIREBASE_MEASUREMENT_ID:"G-3475JNYYQV",SENTRY_DSN:"your_sentry_dsn_here",SENTRY_ORG:"your_sentry_org",SENTRY_PROJECT:"your_sentry_project",API_URL:"https://chordslegend-production.up.railway.app",PI_API_KEY:"4i3rkzifnb5q19uwojg0egsm8pgvkgyjh56umldgu9oiyvijf6n72vaxqgackspc",PI_APP_ID:"your_pi_app_id_here",PI_APP_USERNAME:"chordslegend",PI_ENVIRONMENT:"sandbox"},web:{},sdkVersion:"48.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN||{NODE_ENV:"production",PUBLIC_URL:"/ismailfadlalla/ChordsLegend",APP_MANIFEST:{name:"ChordsLegend",slug:"chordslegend",description:"Professional AI-powered chord detection and analysis mobile application with Pi Network integration for interactive music learning",version:"2.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash-icon.png",resizeMode:"contain",backgroundColor:"#ffffff"},extra:{eas:{projectId:"b3bce86d-1a9c-49a3-99f1-26f00a0ffb23"},YOUTUBE_API_KEY:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",youtubeApiKey:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",FIREBASE_API_KEY:"AIzaSyALL-rz-I971ihPTi3XBxYWesjp4rxekww",FIREBASE_AUTH_DOMAIN:"chords-legend.firebaseapp.com",FIREBASE_PROJECT_ID:"chords-legend",FIREBASE_STORAGE_BUCKET:"chords-legend.firebasestorage.app",FIREBASE_MESSAGING_SENDER_ID:"509802787175",FIREBASE_APP_ID:"1:509802787175:web:d0bf54cff762cbcff5bfc2",FIREBASE_MEASUREMENT_ID:"G-3475JNYYQV",SENTRY_DSN:"your_sentry_dsn_here",SENTRY_ORG:"your_sentry_org",SENTRY_PROJECT:"your_sentry_project",API_URL:"https://chordslegend-production.up.railway.app",PI_API_KEY:"4i3rkzifnb5q19uwojg0egsm8pgvkgyjh56umldgu9oiyvijf6n72vaxqgackspc",PI_APP_ID:"your_pi_app_id_here",PI_APP_USERNAME:"chordslegend",PI_ENVIRONMENT:"sandbox"},web:{},sdkVersion:"48.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.FIREBASE_AUTH_DOMAIN||"chords-legend.firebaseapp.com",projectId:(null==t?void 0:t.FIREBASE_PROJECT_ID)||{NODE_ENV:"production",PUBLIC_URL:"/ismailfadlalla/ChordsLegend",APP_MANIFEST:{name:"ChordsLegend",slug:"chordslegend",description:"Professional AI-powered chord detection and analysis mobile application with Pi Network integration for interactive music learning",version:"2.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash-icon.png",resizeMode:"contain",backgroundColor:"#ffffff"},extra:{eas:{projectId:"b3bce86d-1a9c-49a3-99f1-26f00a0ffb23"},YOUTUBE_API_KEY:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",youtubeApiKey:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",FIREBASE_API_KEY:"AIzaSyALL-rz-I971ihPTi3XBxYWesjp4rxekww",FIREBASE_AUTH_DOMAIN:"chords-legend.firebaseapp.com",FIREBASE_PROJECT_ID:"chords-legend",FIREBASE_STORAGE_BUCKET:"chords-legend.firebasestorage.app",FIREBASE_MESSAGING_SENDER_ID:"509802787175",FIREBASE_APP_ID:"1:509802787175:web:d0bf54cff762cbcff5bfc2",FIREBASE_MEASUREMENT_ID:"G-3475JNYYQV",SENTRY_DSN:"your_sentry_dsn_here",SENTRY_ORG:"your_sentry_org",SENTRY_PROJECT:"your_sentry_project",API_URL:"https://chordslegend-production.up.railway.app",PI_API_KEY:"4i3rkzifnb5q19uwojg0egsm8pgvkgyjh56umldgu9oiyvijf6n72vaxqgackspc",PI_APP_ID:"your_pi_app_id_here",PI_APP_USERNAME:"chordslegend",PI_ENVIRONMENT:"sandbox"},web:{},sdkVersion:"48.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_PROJECT_ID||{NODE_ENV:"production",PUBLIC_URL:"/ismailfadlalla/ChordsLegend",APP_MANIFEST:{name:"ChordsLegend",slug:"chordslegend",description:"Professional AI-powered chord detection and analysis mobile application with Pi Network integration for interactive music learning",version:"2.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash-icon.png",resizeMode:"contain",backgroundColor:"#ffffff"},extra:{eas:{projectId:"b3bce86d-1a9c-49a3-99f1-26f00a0ffb23"},YOUTUBE_API_KEY:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",youtubeApiKey:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",FIREBASE_API_KEY:"AIzaSyALL-rz-I971ihPTi3XBxYWesjp4rxekww",FIREBASE_AUTH_DOMAIN:"chords-legend.firebaseapp.com",FIREBASE_PROJECT_ID:"chords-legend",FIREBASE_STORAGE_BUCKET:"chords-legend.firebasestorage.app",FIREBASE_MESSAGING_SENDER_ID:"509802787175",FIREBASE_APP_ID:"1:509802787175:web:d0bf54cff762cbcff5bfc2",FIREBASE_MEASUREMENT_ID:"G-3475JNYYQV",SENTRY_DSN:"your_sentry_dsn_here",SENTRY_ORG:"your_sentry_org",SENTRY_PROJECT:"your_sentry_project",API_URL:"https://chordslegend-production.up.railway.app",PI_API_KEY:"4i3rkzifnb5q19uwojg0egsm8pgvkgyjh56umldgu9oiyvijf6n72vaxqgackspc",PI_APP_ID:"your_pi_app_id_here",PI_APP_USERNAME:"chordslegend",PI_ENVIRONMENT:"sandbox"},web:{},sdkVersion:"48.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.FIREBASE_PROJECT_ID||"chords-legend",storageBucket:(null==t?void 0:t.FIREBASE_STORAGE_BUCKET)||{NODE_ENV:"production",PUBLIC_URL:"/ismailfadlalla/ChordsLegend",APP_MANIFEST:{name:"ChordsLegend",slug:"chordslegend",description:"Professional AI-powered chord detection and analysis mobile application with Pi Network integration for interactive music learning",version:"2.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash-icon.png",resizeMode:"contain",backgroundColor:"#ffffff"},extra:{eas:{projectId:"b3bce86d-1a9c-49a3-99f1-26f00a0ffb23"},YOUTUBE_API_KEY:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",youtubeApiKey:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",FIREBASE_API_KEY:"AIzaSyALL-rz-I971ihPTi3XBxYWesjp4rxekww",FIREBASE_AUTH_DOMAIN:"chords-legend.firebaseapp.com",FIREBASE_PROJECT_ID:"chords-legend",FIREBASE_STORAGE_BUCKET:"chords-legend.firebasestorage.app",FIREBASE_MESSAGING_SENDER_ID:"509802787175",FIREBASE_APP_ID:"1:509802787175:web:d0bf54cff762cbcff5bfc2",FIREBASE_MEASUREMENT_ID:"G-3475JNYYQV",SENTRY_DSN:"your_sentry_dsn_here",SENTRY_ORG:"your_sentry_org",SENTRY_PROJECT:"your_sentry_project",API_URL:"https://chordslegend-production.up.railway.app",PI_API_KEY:"4i3rkzifnb5q19uwojg0egsm8pgvkgyjh56umldgu9oiyvijf6n72vaxqgackspc",PI_APP_ID:"your_pi_app_id_here",PI_APP_USERNAME:"chordslegend",PI_ENVIRONMENT:"sandbox"},web:{},sdkVersion:"48.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET||{NODE_ENV:"production",PUBLIC_URL:"/ismailfadlalla/ChordsLegend",APP_MANIFEST:{name:"ChordsLegend",slug:"chordslegend",description:"Professional AI-powered chord detection and analysis mobile application with Pi Network integration for interactive music learning",version:"2.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash-icon.png",resizeMode:"contain",backgroundColor:"#ffffff"},extra:{eas:{projectId:"b3bce86d-1a9c-49a3-99f1-26f00a0ffb23"},YOUTUBE_API_KEY:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",youtubeApiKey:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",FIREBASE_API_KEY:"AIzaSyALL-rz-I971ihPTi3XBxYWesjp4rxekww",FIREBASE_AUTH_DOMAIN:"chords-legend.firebaseapp.com",FIREBASE_PROJECT_ID:"chords-legend",FIREBASE_STORAGE_BUCKET:"chords-legend.firebasestorage.app",FIREBASE_MESSAGING_SENDER_ID:"509802787175",FIREBASE_APP_ID:"1:509802787175:web:d0bf54cff762cbcff5bfc2",FIREBASE_MEASUREMENT_ID:"G-3475JNYYQV",SENTRY_DSN:"your_sentry_dsn_here",SENTRY_ORG:"your_sentry_org",SENTRY_PROJECT:"your_sentry_project",API_URL:"https://chordslegend-production.up.railway.app",PI_API_KEY:"4i3rkzifnb5q19uwojg0egsm8pgvkgyjh56umldgu9oiyvijf6n72vaxqgackspc",PI_APP_ID:"your_pi_app_id_here",PI_APP_USERNAME:"chordslegend",PI_ENVIRONMENT:"sandbox"},web:{},sdkVersion:"48.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.FIREBASE_STORAGE_BUCKET||"chords-legend.firebasestorage.app",messagingSenderId:(null==t?void 0:t.FIREBASE_MESSAGING_SENDER_ID)||{NODE_ENV:"production",PUBLIC_URL:"/ismailfadlalla/ChordsLegend",APP_MANIFEST:{name:"ChordsLegend",slug:"chordslegend",description:"Professional AI-powered chord detection and analysis mobile application with Pi Network integration for interactive music learning",version:"2.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash-icon.png",resizeMode:"contain",backgroundColor:"#ffffff"},extra:{eas:{projectId:"b3bce86d-1a9c-49a3-99f1-26f00a0ffb23"},YOUTUBE_API_KEY:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",youtubeApiKey:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",FIREBASE_API_KEY:"AIzaSyALL-rz-I971ihPTi3XBxYWesjp4rxekww",FIREBASE_AUTH_DOMAIN:"chords-legend.firebaseapp.com",FIREBASE_PROJECT_ID:"chords-legend",FIREBASE_STORAGE_BUCKET:"chords-legend.firebasestorage.app",FIREBASE_MESSAGING_SENDER_ID:"509802787175",FIREBASE_APP_ID:"1:509802787175:web:d0bf54cff762cbcff5bfc2",FIREBASE_MEASUREMENT_ID:"G-3475JNYYQV",SENTRY_DSN:"your_sentry_dsn_here",SENTRY_ORG:"your_sentry_org",SENTRY_PROJECT:"your_sentry_project",API_URL:"https://chordslegend-production.up.railway.app",PI_API_KEY:"4i3rkzifnb5q19uwojg0egsm8pgvkgyjh56umldgu9oiyvijf6n72vaxqgackspc",PI_APP_ID:"your_pi_app_id_here",PI_APP_USERNAME:"chordslegend",PI_ENVIRONMENT:"sandbox"},web:{},sdkVersion:"48.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID||{NODE_ENV:"production",PUBLIC_URL:"/ismailfadlalla/ChordsLegend",APP_MANIFEST:{name:"ChordsLegend",slug:"chordslegend",description:"Professional AI-powered chord detection and analysis mobile application with Pi Network integration for interactive music learning",version:"2.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash-icon.png",resizeMode:"contain",backgroundColor:"#ffffff"},extra:{eas:{projectId:"b3bce86d-1a9c-49a3-99f1-26f00a0ffb23"},YOUTUBE_API_KEY:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",youtubeApiKey:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",FIREBASE_API_KEY:"AIzaSyALL-rz-I971ihPTi3XBxYWesjp4rxekww",FIREBASE_AUTH_DOMAIN:"chords-legend.firebaseapp.com",FIREBASE_PROJECT_ID:"chords-legend",FIREBASE_STORAGE_BUCKET:"chords-legend.firebasestorage.app",FIREBASE_MESSAGING_SENDER_ID:"509802787175",FIREBASE_APP_ID:"1:509802787175:web:d0bf54cff762cbcff5bfc2",FIREBASE_MEASUREMENT_ID:"G-3475JNYYQV",SENTRY_DSN:"your_sentry_dsn_here",SENTRY_ORG:"your_sentry_org",SENTRY_PROJECT:"your_sentry_project",API_URL:"https://chordslegend-production.up.railway.app",PI_API_KEY:"4i3rkzifnb5q19uwojg0egsm8pgvkgyjh56umldgu9oiyvijf6n72vaxqgackspc",PI_APP_ID:"your_pi_app_id_here",PI_APP_USERNAME:"chordslegend",PI_ENVIRONMENT:"sandbox"},web:{},sdkVersion:"48.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.FIREBASE_MESSAGING_SENDER_ID||"509802787175",appId:(null==t?void 0:t.FIREBASE_APP_ID)||{NODE_ENV:"production",PUBLIC_URL:"/ismailfadlalla/ChordsLegend",APP_MANIFEST:{name:"ChordsLegend",slug:"chordslegend",description:"Professional AI-powered chord detection and analysis mobile application with Pi Network integration for interactive music learning",version:"2.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash-icon.png",resizeMode:"contain",backgroundColor:"#ffffff"},extra:{eas:{projectId:"b3bce86d-1a9c-49a3-99f1-26f00a0ffb23"},YOUTUBE_API_KEY:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",youtubeApiKey:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",FIREBASE_API_KEY:"AIzaSyALL-rz-I971ihPTi3XBxYWesjp4rxekww",FIREBASE_AUTH_DOMAIN:"chords-legend.firebaseapp.com",FIREBASE_PROJECT_ID:"chords-legend",FIREBASE_STORAGE_BUCKET:"chords-legend.firebasestorage.app",FIREBASE_MESSAGING_SENDER_ID:"509802787175",FIREBASE_APP_ID:"1:509802787175:web:d0bf54cff762cbcff5bfc2",FIREBASE_MEASUREMENT_ID:"G-3475JNYYQV",SENTRY_DSN:"your_sentry_dsn_here",SENTRY_ORG:"your_sentry_org",SENTRY_PROJECT:"your_sentry_project",API_URL:"https://chordslegend-production.up.railway.app",PI_API_KEY:"4i3rkzifnb5q19uwojg0egsm8pgvkgyjh56umldgu9oiyvijf6n72vaxqgackspc",PI_APP_ID:"your_pi_app_id_here",PI_APP_USERNAME:"chordslegend",PI_ENVIRONMENT:"sandbox"},web:{},sdkVersion:"48.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_APP_ID||{NODE_ENV:"production",PUBLIC_URL:"/ismailfadlalla/ChordsLegend",APP_MANIFEST:{name:"ChordsLegend",slug:"chordslegend",description:"Professional AI-powered chord detection and analysis mobile application with Pi Network integration for interactive music learning",version:"2.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash-icon.png",resizeMode:"contain",backgroundColor:"#ffffff"},extra:{eas:{projectId:"b3bce86d-1a9c-49a3-99f1-26f00a0ffb23"},YOUTUBE_API_KEY:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",youtubeApiKey:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",FIREBASE_API_KEY:"AIzaSyALL-rz-I971ihPTi3XBxYWesjp4rxekww",FIREBASE_AUTH_DOMAIN:"chords-legend.firebaseapp.com",FIREBASE_PROJECT_ID:"chords-legend",FIREBASE_STORAGE_BUCKET:"chords-legend.firebasestorage.app",FIREBASE_MESSAGING_SENDER_ID:"509802787175",FIREBASE_APP_ID:"1:509802787175:web:d0bf54cff762cbcff5bfc2",FIREBASE_MEASUREMENT_ID:"G-3475JNYYQV",SENTRY_DSN:"your_sentry_dsn_here",SENTRY_ORG:"your_sentry_org",SENTRY_PROJECT:"your_sentry_project",API_URL:"https://chordslegend-production.up.railway.app",PI_API_KEY:"4i3rkzifnb5q19uwojg0egsm8pgvkgyjh56umldgu9oiyvijf6n72vaxqgackspc",PI_APP_ID:"your_pi_app_id_here",PI_APP_USERNAME:"chordslegend",PI_ENVIRONMENT:"sandbox"},web:{},sdkVersion:"48.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.FIREBASE_APP_ID||"1:509802787175:android:983791faee41272ef5bfc2"}}();console.log("Firebase Config loaded:",h(h({},p),{},{apiKey:p.apiKey?p.apiKey.substring(0,10)+"...":"missing"}));var m,y,E,_=null==(r=u.default.expoConfig)?void 0:r.extra;(console.log("Firebase config sources:"),console.log("- Constants.expoConfig?.extra:",_?Object.keys(_).filter(function(e){return e.includes("FIREBASE")}):"not available"),console.log("- process.env EXPO_PUBLIC_:",{EXPO_PUBLIC_FIREBASE_API_KEY:{NODE_ENV:"production",PUBLIC_URL:"/ismailfadlalla/ChordsLegend",APP_MANIFEST:{name:"ChordsLegend",slug:"chordslegend",description:"Professional AI-powered chord detection and analysis mobile application with Pi Network integration for interactive music learning",version:"2.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash-icon.png",resizeMode:"contain",backgroundColor:"#ffffff"},extra:{eas:{projectId:"b3bce86d-1a9c-49a3-99f1-26f00a0ffb23"},YOUTUBE_API_KEY:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",youtubeApiKey:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",FIREBASE_API_KEY:"AIzaSyALL-rz-I971ihPTi3XBxYWesjp4rxekww",FIREBASE_AUTH_DOMAIN:"chords-legend.firebaseapp.com",FIREBASE_PROJECT_ID:"chords-legend",FIREBASE_STORAGE_BUCKET:"chords-legend.firebasestorage.app",FIREBASE_MESSAGING_SENDER_ID:"509802787175",FIREBASE_APP_ID:"1:509802787175:web:d0bf54cff762cbcff5bfc2",FIREBASE_MEASUREMENT_ID:"G-3475JNYYQV",SENTRY_DSN:"your_sentry_dsn_here",SENTRY_ORG:"your_sentry_org",SENTRY_PROJECT:"your_sentry_project",API_URL:"https://chordslegend-production.up.railway.app",PI_API_KEY:"4i3rkzifnb5q19uwojg0egsm8pgvkgyjh56umldgu9oiyvijf6n72vaxqgackspc",PI_APP_ID:"your_pi_app_id_here",PI_APP_USERNAME:"chordslegend",PI_ENVIRONMENT:"sandbox"},web:{},sdkVersion:"48.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_API_KEY?"found":"missing",EXPO_PUBLIC_FIREBASE_PROJECT_ID:{NODE_ENV:"production",PUBLIC_URL:"/ismailfadlalla/ChordsLegend",APP_MANIFEST:{name:"ChordsLegend",slug:"chordslegend",description:"Professional AI-powered chord detection and analysis mobile application with Pi Network integration for interactive music learning",version:"2.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash-icon.png",resizeMode:"contain",backgroundColor:"#ffffff"},extra:{eas:{projectId:"b3bce86d-1a9c-49a3-99f1-26f00a0ffb23"},YOUTUBE_API_KEY:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",youtubeApiKey:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",FIREBASE_API_KEY:"AIzaSyALL-rz-I971ihPTi3XBxYWesjp4rxekww",FIREBASE_AUTH_DOMAIN:"chords-legend.firebaseapp.com",FIREBASE_PROJECT_ID:"chords-legend",FIREBASE_STORAGE_BUCKET:"chords-legend.firebasestorage.app",FIREBASE_MESSAGING_SENDER_ID:"509802787175",FIREBASE_APP_ID:"1:509802787175:web:d0bf54cff762cbcff5bfc2",FIREBASE_MEASUREMENT_ID:"G-3475JNYYQV",SENTRY_DSN:"your_sentry_dsn_here",SENTRY_ORG:"your_sentry_org",SENTRY_PROJECT:"your_sentry_project",API_URL:"https://chordslegend-production.up.railway.app",PI_API_KEY:"4i3rkzifnb5q19uwojg0egsm8pgvkgyjh56umldgu9oiyvijf6n72vaxqgackspc",PI_APP_ID:"your_pi_app_id_here",PI_APP_USERNAME:"chordslegend",PI_ENVIRONMENT:"sandbox"},web:{},sdkVersion:"48.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_FIREBASE_PROJECT_ID?"found":"missing"}),console.log("- process.env regular:",{FIREBASE_API_KEY:{NODE_ENV:"production",PUBLIC_URL:"/ismailfadlalla/ChordsLegend",APP_MANIFEST:{name:"ChordsLegend",slug:"chordslegend",description:"Professional AI-powered chord detection and analysis mobile application with Pi Network integration for interactive music learning",version:"2.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash-icon.png",resizeMode:"contain",backgroundColor:"#ffffff"},extra:{eas:{projectId:"b3bce86d-1a9c-49a3-99f1-26f00a0ffb23"},YOUTUBE_API_KEY:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",youtubeApiKey:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",FIREBASE_API_KEY:"AIzaSyALL-rz-I971ihPTi3XBxYWesjp4rxekww",FIREBASE_AUTH_DOMAIN:"chords-legend.firebaseapp.com",FIREBASE_PROJECT_ID:"chords-legend",FIREBASE_STORAGE_BUCKET:"chords-legend.firebasestorage.app",FIREBASE_MESSAGING_SENDER_ID:"509802787175",FIREBASE_APP_ID:"1:509802787175:web:d0bf54cff762cbcff5bfc2",FIREBASE_MEASUREMENT_ID:"G-3475JNYYQV",SENTRY_DSN:"your_sentry_dsn_here",SENTRY_ORG:"your_sentry_org",SENTRY_PROJECT:"your_sentry_project",API_URL:"https://chordslegend-production.up.railway.app",PI_API_KEY:"4i3rkzifnb5q19uwojg0egsm8pgvkgyjh56umldgu9oiyvijf6n72vaxqgackspc",PI_APP_ID:"your_pi_app_id_here",PI_APP_USERNAME:"chordslegend",PI_ENVIRONMENT:"sandbox"},web:{},sdkVersion:"48.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.FIREBASE_API_KEY?"found":"missing",FIREBASE_PROJECT_ID:{NODE_ENV:"production",PUBLIC_URL:"/ismailfadlalla/ChordsLegend",APP_MANIFEST:{name:"ChordsLegend",slug:"chordslegend",description:"Professional AI-powered chord detection and analysis mobile application with Pi Network integration for interactive music learning",version:"2.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash-icon.png",resizeMode:"contain",backgroundColor:"#ffffff"},extra:{eas:{projectId:"b3bce86d-1a9c-49a3-99f1-26f00a0ffb23"},YOUTUBE_API_KEY:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",youtubeApiKey:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",FIREBASE_API_KEY:"AIzaSyALL-rz-I971ihPTi3XBxYWesjp4rxekww",FIREBASE_AUTH_DOMAIN:"chords-legend.firebaseapp.com",FIREBASE_PROJECT_ID:"chords-legend",FIREBASE_STORAGE_BUCKET:"chords-legend.firebasestorage.app",FIREBASE_MESSAGING_SENDER_ID:"509802787175",FIREBASE_APP_ID:"1:509802787175:web:d0bf54cff762cbcff5bfc2",FIREBASE_MEASUREMENT_ID:"G-3475JNYYQV",SENTRY_DSN:"your_sentry_dsn_here",SENTRY_ORG:"your_sentry_org",SENTRY_PROJECT:"your_sentry_project",API_URL:"https://chordslegend-production.up.railway.app",PI_API_KEY:"4i3rkzifnb5q19uwojg0egsm8pgvkgyjh56umldgu9oiyvijf6n72vaxqgackspc",PI_APP_ID:"your_pi_app_id_here",PI_APP_USERNAME:"chordslegend",PI_ENVIRONMENT:"sandbox"},web:{},sdkVersion:"48.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.FIREBASE_PROJECT_ID?"found":"missing"}),function(e){var t=["apiKey","authDomain","projectId"].filter(function(t){return!e[t]});return t.length>0?(console.error("Missing Firebase configuration:",t),!1):(console.log("Firebase configuration validated successfully"),!0)}(p))||(console.error("Firebase configuration is incomplete"),console.log("Available extra config keys:",Object.keys((null==(m=u.default.expoConfig)?void 0:m.extra)||{})));try{0===(0,f.getApps)().length?(y=(0,f.initializeApp)(p),console.log("Firebase app initialized successfully")):(y=(0,f.getApps)()[0],console.log("Using existing Firebase app"));try{E=(0,d.getAuth)(y),console.log("Firebase Auth initialized successfully")}catch(ze){throw console.error("Failed to initialize Firebase Auth:",ze),ze}}catch(ze){throw console.error("Failed to initialize Firebase:",ze),new Error("Firebase initialization failed: "+(ze instanceof Error?ze.message:String(ze)))}var b=function(){var e=(0,i.default)(function*(){try{if(console.log("Starting Firebase connection test..."),!E)return console.error("Firebase Auth not initialized"),!1;var e=E.app.options;if(!e.apiKey||!e.authDomain||!e.projectId)return console.error("Firebase configuration is incomplete"),!1;console.log("\u2705 Firebase configuration is complete");try{console.log("Testing Firebase Auth API connectivity...");var t="https://identitytoolkit.googleapis.com/v1/accounts:lookup?key="+e.apiKey,o=yield fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});if(console.log("Firebase API response status:",o.status),400===o.status){var r=yield o.text();return console.log("\u2705 Firebase Auth API is reachable (expected 400 error):",r),!0}if(200===o.status)return console.log("\u2705 Firebase Auth API responded successfully"),!0;if(403===o.status)return console.log("\u26a0\ufe0f Firebase API key might be restricted, but service is reachable"),!0;console.error("Firebase Auth API returned unexpected status:",o.status);var n=yield o.text();return console.error("Response body:",n),!1}catch(a){console.error("Network request to Firebase failed:",a);try{yield fetch("https://www.google.com",{method:"HEAD",mode:"no-cors",cache:"no-cache"}),console.log("\u2705 Internet connection is working"),console.error("\u274c Specific issue connecting to Firebase")}catch(s){console.error("\u274c No internet connection")}console.log("Attempting fallback test: checking if Firebase Auth is accessible...");try{var i=(0,d.getAuth)();if(i&&i.app)return console.log("\u2705 Firebase Auth instance is accessible (fallback success)"),!0}catch(l){console.error("\u274c Firebase Auth instance not accessible:",l)}return!1}}catch(ze){return console.error("Firebase connection test failed:",ze),!1}});return function(){return e.apply(this,arguments)}}(),S=function(){if(!E)throw new Error("Firebase Auth not initialized. Check your Firebase configuration.");return E},A=o(397),I=(0,l.createContext)({user:null,isLoading:!0,error:null,login:function(){var e=(0,i.default)(function*(){return null});return function(){return e.apply(this,arguments)}}(),signUp:function(){var e=(0,i.default)(function*(){return null});return function(){return e.apply(this,arguments)}}(),logout:function(){var e=(0,i.default)(function*(){});return function(){return e.apply(this,arguments)}}(),clearError:function(){},isConnected:!1,forceConnectionState:function(){}}),P=function(e){var t=e.children,o=(0,l.useState)(null),r=(0,a.default)(o,2),n=r[0],s=r[1],c=(0,l.useState)(!0),u=(0,a.default)(c,2),f=u[0],g=u[1],h=(0,l.useState)(null),p=(0,a.default)(h,2),m=p[0],y=p[1],E=(0,l.useState)(!1),_=(0,a.default)(E,2),P=_[0],T=_[1],v=Math.random().toString(36).substring(7);console.log("AuthProvider instance created: "+v),(0,l.useEffect)(function(){var e=function(){var e=(0,i.default)(function*(){console.log("AuthProvider ["+v+"]: Starting Firebase setup...");try{console.log("AuthProvider ["+v+"]: Getting Firebase Auth instance...");var e=S();console.log("AuthProvider ["+v+"]: \u2705 Firebase Auth instance obtained"),console.log("AuthProvider ["+v+"]: Setting up auth state listener...");var t=(0,d.onAuthStateChanged)(e,function(e){console.log("AuthProvider ["+v+"]: Auth state changed:",e?"User: "+e.email:"No user"),s(e),g(!1),T(!0),y(null),console.log("AuthProvider ["+v+"]: \u2705 Successfully updated states - Connected: true")},function(e){console.error("AuthProvider ["+v+"]: Auth state error:",e),y("Authentication error: "+e.message),g(!1),T(!1)});console.log("AuthProvider ["+v+"]: \u2705 Auth listener set up successfully");try{var o=yield b();console.log("AuthProvider ["+v+"]: Connection test result: "+o)}catch(r){console.log("AuthProvider ["+v+"]: Connection test failed, but auth listener is working")}return t}catch(m){console.error("AuthProvider ["+v+"]: Setup failed:",m),y(m instanceof Error?m.message:"Firebase setup failed"),g(!1),T(!1)}});return function(){return e.apply(this,arguments)}}();e()},[v]);var w=(0,l.useCallback)(function(){y(null)},[]),R=(0,l.useCallback)(function(){var e=(0,i.default)(function*(e,t){try{if(y(null),g(!0),!e||!t)throw new Error("Email and password are required");var o=S();if(!o)throw new Error("Firebase Auth not initialized");console.log("Attempting login for user: "+e);var r=yield(0,d.signInWithEmailAndPassword)(o,e,t);return s(r.user),console.log("Login successful for user:",r.user.email),r.user}catch(m){console.error("Login error:",m),console.error("Error code:",m.code),console.error("Error message:",m.message);var n=x(m);throw y(n),new Error(n)}finally{g(!1)}});return function(t,o){return e.apply(this,arguments)}}(),[]),C=(0,l.useCallback)(function(){var e=(0,i.default)(function*(e,t){try{if(y(null),g(!0),!e||!t)throw new Error("Email and password are required");var o=S();if(!o)throw new Error("Firebase Auth not initialized");console.log("Attempting signup for user: "+e);var r=yield(0,d.createUserWithEmailAndPassword)(o,e,t);return s(r.user),console.log("Sign up successful for user:",r.user.email),r.user}catch(m){console.error("SignUp error:",m),console.error("Error code:",m.code),console.error("Error message:",m.message);var n=x(m);throw y(n),new Error(n)}finally{g(!1)}});return function(t,o){return e.apply(this,arguments)}}(),[]),j=(0,l.useCallback)((0,i.default)(function*(){try{y(null);var e=S();if(!e)throw new Error("Firebase Auth not initialized");yield(0,d.signOut)(e),s(null),console.log("Logout successful")}catch(m){console.error("Logout error:",m);var t=m instanceof Error?m.message:"Logout failed";throw y(t),new Error(t)}}),[]),B={user:n,isLoading:f,error:m,login:R,signUp:C,logout:j,clearError:w,isConnected:P,forceConnectionState:(0,l.useCallback)(function(e){console.log("AuthProvider ["+v+"]: Force setting isConnected to "+e),T(e),g(!1),e&&y(null)},[v])};return(0,A.jsx)(I.Provider,{value:B,children:t})},x=function(e){if(null==e||!e.code)return(null==e?void 0:e.message)||"An unexpected error occurred";switch(e.code){case"auth/email-already-in-use":return"An account with this email already exists. Try logging in instead.";case"auth/weak-password":return"Password is too weak. Please choose a stronger password.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/user-not-found":return"No account found with this email. Try signing up instead.";case"auth/wrong-password":return"Incorrect password. Please try again.";case"auth/too-many-requests":return"Too many failed attempts. Please try again later.";case"auth/network-request-failed":return"Network error. Please check your connection and try again.";case"auth/invalid-credential":return"Invalid email or password. Please check your credentials.";case"auth/user-disabled":return"This account has been disabled. Please contact support.";case"auth/operation-not-allowed":return"Email/password accounts are not enabled. Please contact support.";default:return e.message||"An authentication error occurred. Please try again."}},T=function(){var e=(0,l.useContext)(I);if(!e)throw new Error("useAuth must be used within an AuthProvider");var t={isConnected:e.isConnected,isLoading:e.isLoading,user:e.user?"logged in":"not logged in",error:e.error?"has error":"no error",timestamp:(new Date).toLocaleTimeString()};return console.log("useAuth called:",t),e},v={APP_NAME:"ChordsLegend",APP_USERNAME:"chordslegend",SANDBOX_MODE:!0,ENVIRONMENT:"undefined"!==typeof window&&(window.location.href.includes("sandbox.minepi.com")||window.location.href.includes("pi.network"))?"sandbox":"production",API_KEY:{NODE_ENV:"production",PUBLIC_URL:"/ismailfadlalla/ChordsLegend",APP_MANIFEST:{name:"ChordsLegend",slug:"chordslegend",description:"Professional AI-powered chord detection and analysis mobile application with Pi Network integration for interactive music learning",version:"2.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash-icon.png",resizeMode:"contain",backgroundColor:"#ffffff"},extra:{eas:{projectId:"b3bce86d-1a9c-49a3-99f1-26f00a0ffb23"},YOUTUBE_API_KEY:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",youtubeApiKey:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",FIREBASE_API_KEY:"AIzaSyALL-rz-I971ihPTi3XBxYWesjp4rxekww",FIREBASE_AUTH_DOMAIN:"chords-legend.firebaseapp.com",FIREBASE_PROJECT_ID:"chords-legend",FIREBASE_STORAGE_BUCKET:"chords-legend.firebasestorage.app",FIREBASE_MESSAGING_SENDER_ID:"509802787175",FIREBASE_APP_ID:"1:509802787175:web:d0bf54cff762cbcff5bfc2",FIREBASE_MEASUREMENT_ID:"G-3475JNYYQV",SENTRY_DSN:"your_sentry_dsn_here",SENTRY_ORG:"your_sentry_org",SENTRY_PROJECT:"your_sentry_project",API_URL:"https://chordslegend-production.up.railway.app",PI_API_KEY:"4i3rkzifnb5q19uwojg0egsm8pgvkgyjh56umldgu9oiyvijf6n72vaxqgackspc",PI_APP_ID:"your_pi_app_id_here",PI_APP_USERNAME:"chordslegend",PI_ENVIRONMENT:"sandbox"},web:{},sdkVersion:"48.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.PI_API_KEY||"",SANDBOX_URL:"https://sandbox.minepi.com/app/chords-legend",SANDBOX_API_BASE:"https://api.sandbox.minepi.com",isPiBrowser:function(){return"undefined"!==typeof window&&(window.navigator.userAgent.includes("PiBrowser")||window.location.hostname.includes("minepi.com")||window.location.hostname.includes("pi.network")||void 0!==window.Pi||window.location.href.includes("sandbox.minepi.com"))},SDK_CONFIG:{version:"2.0",sandbox:!0,environment:"sandbox"},APP_CONFIG:{appName:"ChordsLegend",developerId:"chordslegend",appSecret:{NODE_ENV:"production",PUBLIC_URL:"/ismailfadlalla/ChordsLegend",APP_MANIFEST:{name:"ChordsLegend",slug:"chordslegend",description:"Professional AI-powered chord detection and analysis mobile application with Pi Network integration for interactive music learning",version:"2.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash-icon.png",resizeMode:"contain",backgroundColor:"#ffffff"},extra:{eas:{projectId:"b3bce86d-1a9c-49a3-99f1-26f00a0ffb23"},YOUTUBE_API_KEY:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",youtubeApiKey:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",FIREBASE_API_KEY:"AIzaSyALL-rz-I971ihPTi3XBxYWesjp4rxekww",FIREBASE_AUTH_DOMAIN:"chords-legend.firebaseapp.com",FIREBASE_PROJECT_ID:"chords-legend",FIREBASE_STORAGE_BUCKET:"chords-legend.firebasestorage.app",FIREBASE_MESSAGING_SENDER_ID:"509802787175",FIREBASE_APP_ID:"1:509802787175:web:d0bf54cff762cbcff5bfc2",FIREBASE_MEASUREMENT_ID:"G-3475JNYYQV",SENTRY_DSN:"your_sentry_dsn_here",SENTRY_ORG:"your_sentry_org",SENTRY_PROJECT:"your_sentry_project",API_URL:"https://chordslegend-production.up.railway.app",PI_API_KEY:"4i3rkzifnb5q19uwojg0egsm8pgvkgyjh56umldgu9oiyvijf6n72vaxqgackspc",PI_APP_ID:"your_pi_app_id_here",PI_APP_USERNAME:"chordslegend",PI_ENVIRONMENT:"sandbox"},web:{},sdkVersion:"48.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.PI_APP_SECRET||"",scopes:["payments","username"]},SANDBOX_FEATURES:{TEST_PREMIUM:{price:.01,name:"Test Premium Feature",description:"Test Pi payment functionality"}},FEATURES:{PREMIUM_CHORD_LIBRARY:{price:1,name:"Premium Chord Library",description:"Access to advanced chord progressions and techniques"},AI_CHORD_DETECTION:{price:2,name:"AI Chord Detection",description:"Real-time audio analysis and chord recognition"},YOUTUBE_SYNC:{price:1.5,name:"YouTube Synchronization",description:"Sync chord progressions with YouTube videos"},OFFLINE_MODE:{price:.5,name:"Offline Mode",description:"Download chord libraries for offline practice"}},URLS:{DEVELOPER_PORTAL:"https://developers.minepi.com/",APP_DETAILS:"https://developers.minepi.com/apps/chordslegend",PI_BROWSER:"https://app-cdn.minepi.com/mobile-app-ui/"}},w=o(1959),R=o(8179),C=o(530),j=o(4767),B=o(5991),N=o(368),F=o(3668),O=o(6283),k=o(6773),z=o(5648),D=o(3929);function U(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function L(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?U(Object(o),!0).forEach(function(t){(0,c.default)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):U(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function M(){var e=(0,R.useNavigation)(),t=((0,R.useRoute)().params||{}).mode,o=(0,l.useState)(""),r=(0,a.default)(o,2),n=r[0],s=r[1],d=(0,l.useState)(""),c=(0,a.default)(d,2),u=c[0],f=c[1],g=(0,l.useState)("signup"!==t),h=(0,a.default)(g,2),p=h[0],m=h[1],y=(0,l.useState)(!1),E=(0,a.default)(y,2),_=E[0],b=E[1],S=(0,l.useState)({email:"",password:"",general:""}),I=(0,a.default)(S,2),P=I[0],x=I[1],v=(0,l.useState)(""),w=(0,a.default)(v,2),F=w[0],U=w[1],M=T(),Y=M.login,K=M.signUp,W=M.error,V=M.clearError,H=M.isConnected,J=(M.isLoading,M.user);(0,l.useEffect)(function(){J&&!_&&(U(p?"Login successful! Redirecting...":"Account created! Redirecting..."),setTimeout(function(){e.replace("Home")},1500))},[J,_,e,p]),(0,l.useEffect)(function(){x({email:"",password:"",general:""}),U(""),V()},[p,V]),(0,l.useEffect)(function(){W&&x(function(e){return L(L({},e),{},{general:W})})},[W]);var q=function(){var e=(0,i.default)(function*(){if(x({email:"",password:"",general:""}),V(),n.trim())if(function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}(n))if(u){var e=function(e){return e.length<6?"Password must be at least 6 characters long":!p&&e.length<8?"Password should be at least 8 characters for better security":""}(u);if(!e||p){b(!0);try{p?yield Y(n.trim(),u):yield K(n.trim(),u)}catch(ze){console.error("Auth error:",ze)}finally{b(!1)}}else x(function(t){return L(L({},t),{},{password:e})})}else x(function(e){return L(L({},e),{},{password:"Password is required"})});else x(function(e){return L(L({},e),{},{email:"Please enter a valid email address"})});else x(function(e){return L(L({},e),{},{email:"Email is required"})})});return function(){return e.apply(this,arguments)}}();return(0,A.jsx)(j.default,{style:G.container,behavior:"ios"===B.default.OS?"padding":"height",children:(0,A.jsx)(N.default,{contentContainerStyle:G.scrollContainer,children:(0,A.jsxs)(D.default,{style:G.formContainer,children:[(0,A.jsx)(O.default,{style:G.title,children:"ChordsLegend"}),(0,A.jsx)(O.default,{style:G.subtitle,children:p?"Welcome back!":"Join the community"}),!H&&(0,A.jsx)(D.default,{style:G.statusContainer,children:(0,A.jsx)(O.default,{style:[G.statusText,{color:"#ff6b6b"}],children:"Connection issue - Please check your internet"})}),(0,A.jsxs)(D.default,{style:G.modeToggle,children:[(0,A.jsx)(z.default,{style:[G.modeButton,p&&G.modeButtonActive],onPress:function(){m(!0),x({email:"",password:"",general:""})},children:(0,A.jsx)(O.default,{style:[G.modeButtonText,p&&G.modeButtonTextActive],children:"Login"})}),(0,A.jsx)(z.default,{style:[G.modeButton,!p&&G.modeButtonActive],onPress:function(){m(!1),x({email:"",password:"",general:""})},children:(0,A.jsx)(O.default,{style:[G.modeButtonText,!p&&G.modeButtonTextActive],children:"Sign Up"})})]}),F?(0,A.jsx)(D.default,{style:G.successContainer,children:(0,A.jsx)(O.default,{style:G.successText,children:F})}):null,P.general?(0,A.jsx)(D.default,{style:G.errorContainer,children:(0,A.jsx)(O.default,{style:G.errorText,children:P.general})}):null,(0,A.jsx)(k.default,{style:[G.input,P.email&&G.inputError],placeholder:"Email",placeholderTextColor:"#888",value:n,onChangeText:function(e){s(e),P.email&&x(function(e){return L(L({},e),{},{email:""})})},keyboardType:"email-address",autoCapitalize:"none",autoComplete:"email"}),P.email?(0,A.jsx)(O.default,{style:G.fieldErrorText,children:P.email}):null,(0,A.jsx)(k.default,{style:[G.input,P.password&&G.inputError],placeholder:"Password",placeholderTextColor:"#888",value:u,onChangeText:function(e){f(e),P.password&&x(function(e){return L(L({},e),{},{password:""})})},secureTextEntry:!0,autoComplete:"password"}),P.password?(0,A.jsx)(O.default,{style:G.fieldErrorText,children:P.password}):null,!p&&(0,A.jsxs)(D.default,{style:G.passwordRequirements,children:[(0,A.jsx)(O.default,{style:G.requirementsTitle,children:"Password Requirements:"}),(0,A.jsx)(O.default,{style:[G.requirementText,u.length>=6&&G.requirementMet],children:"\u2022 At least 6 characters"}),(0,A.jsx)(O.default,{style:[G.requirementText,u.length>=8&&G.requirementMet],children:"\u2022 Recommended: 8+ characters for better security"})]}),(0,A.jsx)(z.default,{style:[G.button,_&&G.buttonDisabled,!H&&G.buttonWarning],onPress:q,disabled:_||!H,children:_?(0,A.jsxs)(D.default,{style:G.loadingContainer,children:[(0,A.jsx)(C.default,{size:"small",color:"#fff"}),(0,A.jsx)(O.default,{style:G.buttonText,children:p?"Signing in...":"Creating account..."})]}):(0,A.jsx)(O.default,{style:G.buttonText,children:H?p?"Sign In":"Create Account":"Check Connection"})}),(0,A.jsxs)(D.default,{style:G.alternativeLogin,children:[(0,A.jsx)(O.default,{style:G.alternativeText,children:"Or continue with"}),(0,A.jsxs)(D.default,{style:G.socialButtons,children:[(0,A.jsx)(z.default,{style:G.socialButton,disabled:!0,children:(0,A.jsx)(O.default,{style:G.socialButtonText,children:"Google"})}),(0,A.jsx)(z.default,{style:G.socialButton,disabled:!0,children:(0,A.jsx)(O.default,{style:G.socialButtonText,children:"Apple"})})]}),(0,A.jsx)(O.default,{style:G.comingSoon,children:"Coming Soon"})]})]})})})}var G=F.default.create({container:{flex:1,backgroundColor:"#1a1a1a",justifyContent:"center"},formContainer:{padding:20,marginHorizontal:20},title:{fontSize:32,fontWeight:"bold",color:"#fff",textAlign:"center",marginBottom:8},subtitle:{fontSize:16,color:"#888",textAlign:"center",marginBottom:40},input:{backgroundColor:"#333",color:"#fff",padding:15,borderRadius:10,marginBottom:5,fontSize:16,borderWidth:1,borderColor:"#333"},inputError:{borderColor:"#ff4444",borderWidth:1},button:{backgroundColor:"#007AFF",padding:15,borderRadius:10,alignItems:"center",marginBottom:15,marginTop:10},buttonDisabled:{backgroundColor:"#555"},buttonText:{color:"#fff",fontSize:16,fontWeight:"bold"},loadingContainer:{flexDirection:"row",alignItems:"center",gap:10},scrollContainer:{flexGrow:1,justifyContent:"center"},statusContainer:{padding:10,backgroundColor:"#f8f9fa",borderRadius:8,marginBottom:20,alignItems:"center"},statusText:{fontSize:14,fontWeight:"bold"},debugToggle:{padding:10,backgroundColor:"#f0f0f0",borderRadius:5,marginTop:10,alignItems:"center"},debugToggleText:{fontSize:12,color:"#666"},debugContainer:{marginTop:20,padding:15,backgroundColor:"#f8f9fa",borderRadius:8,maxHeight:200},debugTitle:{fontSize:14,fontWeight:"bold",marginBottom:10},clearLogsButton:{padding:5,backgroundColor:"#dc3545",borderRadius:4,alignItems:"center",marginBottom:10},clearLogsText:{color:"#fff",fontSize:12},debugLogs:{maxHeight:120},debugLogText:{fontSize:10,fontFamily:"monospace",color:"#333",marginBottom:2},modeToggle:{flexDirection:"row",backgroundColor:"#333",borderRadius:10,marginBottom:30,padding:4},modeButton:{flex:1,paddingVertical:12,alignItems:"center",borderRadius:6},modeButtonActive:{backgroundColor:"#007AFF"},modeButtonText:{color:"#888",fontSize:16,fontWeight:"500"},modeButtonTextActive:{color:"#fff",fontWeight:"bold"},errorContainer:{backgroundColor:"#ff444420",borderColor:"#ff4444",borderWidth:1,borderRadius:8,padding:12,marginBottom:15},successContainer:{backgroundColor:"#4CAF5020",borderColor:"#4CAF50",borderWidth:1,borderRadius:8,padding:12,marginBottom:15},errorText:{color:"#ff4444",fontSize:14,textAlign:"center"},successText:{color:"#4CAF50",fontSize:14,textAlign:"center",fontWeight:"bold"},fieldErrorText:{color:"#ff4444",fontSize:12,marginBottom:10,marginLeft:5},passwordRequirements:{backgroundColor:"#333",borderRadius:8,padding:12,marginBottom:15},requirementsTitle:{color:"#fff",fontSize:14,fontWeight:"bold",marginBottom:8},requirementText:{color:"#888",fontSize:12,marginBottom:4},requirementMet:{color:"#4CAF50"},buttonWarning:{backgroundColor:"#ff6b6b",opacity:.7},alternativeLogin:{marginTop:30,alignItems:"center"},alternativeText:{color:"#888",fontSize:14,marginBottom:15},socialButtons:{flexDirection:"row",gap:15,marginBottom:10},socialButton:{backgroundColor:"#333",paddingHorizontal:20,paddingVertical:12,borderRadius:8,opacity:.6},socialButtonText:{color:"#888",fontSize:14},comingSoon:{color:"#666",fontSize:12,fontStyle:"italic"}}),Y=o(5458);var K={NODE_ENV:"production",PUBLIC_URL:"/ismailfadlalla/ChordsLegend",APP_MANIFEST:{name:"ChordsLegend",slug:"chordslegend",description:"Professional AI-powered chord detection and analysis mobile application with Pi Network integration for interactive music learning",version:"2.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash-icon.png",resizeMode:"contain",backgroundColor:"#ffffff"},extra:{eas:{projectId:"b3bce86d-1a9c-49a3-99f1-26f00a0ffb23"},YOUTUBE_API_KEY:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",youtubeApiKey:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",FIREBASE_API_KEY:"AIzaSyALL-rz-I971ihPTi3XBxYWesjp4rxekww",FIREBASE_AUTH_DOMAIN:"chords-legend.firebaseapp.com",FIREBASE_PROJECT_ID:"chords-legend",FIREBASE_STORAGE_BUCKET:"chords-legend.firebasestorage.app",FIREBASE_MESSAGING_SENDER_ID:"509802787175",FIREBASE_APP_ID:"1:509802787175:web:d0bf54cff762cbcff5bfc2",FIREBASE_MEASUREMENT_ID:"G-3475JNYYQV",SENTRY_DSN:"your_sentry_dsn_here",SENTRY_ORG:"your_sentry_org",SENTRY_PROJECT:"your_sentry_project",API_URL:"https://chordslegend-production.up.railway.app",PI_API_KEY:"4i3rkzifnb5q19uwojg0egsm8pgvkgyjh56umldgu9oiyvijf6n72vaxqgackspc",PI_APP_ID:"your_pi_app_id_here",PI_APP_USERNAME:"chordslegend",PI_ENVIRONMENT:"sandbox"},web:{},sdkVersion:"48.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.EXPO_PUBLIC_API_URL||{NODE_ENV:"production",PUBLIC_URL:"/ismailfadlalla/ChordsLegend",APP_MANIFEST:{name:"ChordsLegend",slug:"chordslegend",description:"Professional AI-powered chord detection and analysis mobile application with Pi Network integration for interactive music learning",version:"2.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash-icon.png",resizeMode:"contain",backgroundColor:"#ffffff"},extra:{eas:{projectId:"b3bce86d-1a9c-49a3-99f1-26f00a0ffb23"},YOUTUBE_API_KEY:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",youtubeApiKey:"AIzaSyCNBzdkGau4j1nKzZUm6AjLv8FPB1mj_Gs",FIREBASE_API_KEY:"AIzaSyALL-rz-I971ihPTi3XBxYWesjp4rxekww",FIREBASE_AUTH_DOMAIN:"chords-legend.firebaseapp.com",FIREBASE_PROJECT_ID:"chords-legend",FIREBASE_STORAGE_BUCKET:"chords-legend.firebasestorage.app",FIREBASE_MESSAGING_SENDER_ID:"509802787175",FIREBASE_APP_ID:"1:509802787175:web:d0bf54cff762cbcff5bfc2",FIREBASE_MEASUREMENT_ID:"G-3475JNYYQV",SENTRY_DSN:"your_sentry_dsn_here",SENTRY_ORG:"your_sentry_org",SENTRY_PROJECT:"your_sentry_project",API_URL:"https://chordslegend-production.up.railway.app",PI_API_KEY:"4i3rkzifnb5q19uwojg0egsm8pgvkgyjh56umldgu9oiyvijf6n72vaxqgackspc",PI_APP_ID:"your_pi_app_id_here",PI_APP_USERNAME:"chordslegend",PI_ENVIRONMENT:"sandbox"},web:{},sdkVersion:"48.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws"}.API_URL||"http://192.168.1.138:5000",W=1e4,V=2;function H(e){return e instanceof Error?e:"string"===typeof e?new Error(e):new Error(String(e))}var J=function(){var e=(0,i.default)(function*(e){var t=new AbortController,o=setTimeout(function(){return t.abort()},W);try{for(var r,n=null,i=function*(r){try{var i=yield fetch(K+"/analyze",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({youtube_url:e,options:{detailed:!0}}),signal:t.signal});if(clearTimeout(o),!i.ok){var a=yield function(e){return q.apply(this,arguments)}(i);throw new Error((null==a?void 0:a.error)||"HTTP error! status: "+i.status)}var s=yield i.json();if("success"!==s.status||!s.chords)throw new Error(s.error||"Invalid response format");return{v:s.chords.map(function(e,t){if(!e.time||!e.chord||void 0===e.confidence)throw new Error("Invalid chord data at index "+t);return{time:Number(e.time),chord:String(e.chord),confidence:Math.min(1,Math.max(0,Number(e.confidence))),duration:e.duration?Number(e.duration):void 0,beat:e.beat?Number(e.beat):void 0}})}}catch(ze){if(n=H(ze),"undefined"!==typeof DOMException&&ze instanceof DOMException||n.message.includes("Invalid"))return 0;r<V&&(yield new Promise(function(e){return setTimeout(e,1e3*(r+1))}))}},a=0;a<=V&&0!==(r=yield*i(a));a++)if(r)return r.v;throw n||new Error("Chord analysis failed")}catch(ze){var s=H(ze);throw console.error("Chord analysis failed:",{error:s.message,stack:s.stack,youtubeUrl:e,timestamp:(new Date).toISOString()}),function(e){if(e.message.includes("Failed to fetch"))return new Error("Connection failed. Please check your network.");if(e.message.includes("aborted"))return new Error("Request timed out. Please try again.");return e}(s)}finally{clearTimeout(o)}});return function(t){return e.apply(this,arguments)}}();function q(){return(q=(0,i.default)(function*(e){try{return yield e.json()}catch(t){return{}}})).apply(this,arguments)}var X=o(1218),Z=o(8264),Q={primary:"#6A0DAD",secondary:"#9C27B0",background:"#FFFFFF",surface:"#F5F5F5",surfaceHighlight:"#E0E0E0",error:"#B00020",text:"#000000",secondaryText:"#666666",onPrimary:"#FFFFFF",divider:"#DDDDDD"},$=(0,l.createContext)({theme:Q,isDark:!1,setTheme:function(){}}),ee={C:{name:"C Major",fingerings:[{name:"Open Position",frets:[0,3,2,0,1,0],fingers:[0,3,2,0,1,0],type:"open"},{name:"Barre 3rd Fret",frets:[3,3,5,5,5,3],fingers:[1,1,3,4,4,1],barres:[{fret:3,startString:0,endString:5}],baseFret:3,type:"barre"}]},G:{name:"G Major",fingerings:[{name:"Open Position",frets:[3,2,0,0,3,3],fingers:[3,2,0,0,4,4],type:"open"}]},Am:{name:"A Minor",fingerings:[{name:"Open Position",frets:[0,0,2,2,1,0],fingers:[0,0,3,2,1,0],type:"open"}]},F:{name:"F Major",fingerings:[{name:"Barre 1st Fret",frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[{fret:1,startString:0,endString:5}],baseFret:1,type:"barre"}]},Em:{name:"E Minor",fingerings:[{name:"Open Position",frets:[0,2,2,0,0,0],fingers:[0,2,3,0,0,0],type:"open"}]},Em7:{name:"E Minor 7",fingerings:[{name:"Open Position",frets:[0,2,0,0,0,0],fingers:[0,2,0,0,0,0],type:"open"}]},D:{name:"D Major",fingerings:[{name:"Open Position",frets:[-1,-1,0,2,3,2],fingers:[0,0,0,1,3,2],type:"open"}]},Dm:{name:"D Minor",fingerings:[{name:"Open Position",frets:[-1,-1,0,2,3,1],fingers:[0,0,0,2,3,1],type:"open"}]},B7:{name:"B Dominant 7",fingerings:[{name:"Open Position",frets:[-1,2,1,2,0,2],fingers:[0,2,1,3,0,4],type:"open"}]},E:{name:"E Major",fingerings:[{name:"Open Position",frets:[0,2,2,1,0,0],fingers:[0,2,3,1,0,0],type:"open"}]}},te=F.default.create({container:{borderRadius:12,margin:16,overflow:"hidden",elevation:2,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:12,borderBottomWidth:1,borderBottomColor:"rgba(255, 255, 255, 0.1)"},title:{fontSize:14,fontWeight:"bold"},timeIndicator:{fontSize:14,fontWeight:"bold",fontFamily:"monospace"},timeline:{maxHeight:120},timelineContent:{paddingHorizontal:16,paddingVertical:12},chordItem:{width:75,height:90,marginRight:8,borderRadius:8,padding:8,alignItems:"center",justifyContent:"center",position:"relative"},progressBar:{position:"absolute",top:0,left:0,right:0,height:3,borderRadius:1.5},progressFill:{height:"100%",borderRadius:1.5},chordName:{fontWeight:"bold",marginBottom:4,textAlign:"center"},timeText:{fontFamily:"monospace",marginBottom:2},durationText:{fontSize:9,fontFamily:"monospace"},playingIndicator:{position:"absolute",top:4,right:4,width:16,height:16,borderRadius:8,alignItems:"center",justifyContent:"center"},playingIcon:{color:"#fff",fontSize:10,fontWeight:"bold"},nextLabel:{position:"absolute",bottom:2,fontSize:8,fontWeight:"bold"},controls:{padding:12,borderTopWidth:1,borderTopColor:"rgba(255, 255, 255, 0.1)"},positionText:{fontSize:12,textAlign:"center",marginBottom:8},globalProgress:{height:4,borderRadius:2,overflow:"hidden"},globalProgressFill:{height:"100%",borderRadius:2}});const oe=function(e){var t=e.chordProgression,o=e.currentTime,r=e.isPlaying,n=e.theme,i=e.onSeekToTime,a=(0,l.useRef)(null);(0,l.useEffect)(function(){if(console.log("\ud83c\udfb9 CompactRhythmTimeline: currentTime updated to",o.toFixed(1),"isPlaying:",r),a.current&&r){var e=t.findIndex(function(e,r){var n=t[r+1];return o>=e.startTime&&(!n||o<n.startTime)});if(e>=0){var n=t[e];console.log("\ud83c\udfb9 Current chord in timeline:",n.chord,"at index:",e);var i=Math.max(0,80*e-150);a.current.scrollTo({x:i,animated:!0})}}},[o,r,t]);var s=function(e){return Math.floor(e/60)+":"+Math.floor(e%60).toString().padStart(2,"0")},d=t.findIndex(function(e,r){var n=t[r+1];return o>=e.startTime&&(!n||o<n.startTime)});return(0,A.jsxs)(D.default,{style:[te.container,{backgroundColor:n.surface}],children:[(0,A.jsxs)(D.default,{style:te.header,children:[(0,A.jsx)(O.default,{style:[te.title,{color:n.text}],children:"Rhythm Timeline"}),(0,A.jsx)(O.default,{style:[te.timeIndicator,{color:n.primary}],children:s(o)})]}),(0,A.jsx)(N.default,{ref:a,horizontal:!0,showsHorizontalScrollIndicator:!1,style:te.timeline,contentContainerStyle:te.timelineContent,children:t.map(function(e,t){var a=t===d,l=o>e.startTime+e.duration,c=t===d+1,u=t>d&&t<=d+3,f=a?Math.min(1,Math.max(0,(o-e.startTime)/e.duration)):l?1:0;return(0,A.jsxs)(z.default,{style:[te.chordItem,{backgroundColor:a?n.primary+"30":c?n.secondary+"20":u?n.surface+"80":l?n.divider+"20":n.surface,borderColor:a?n.primary:c?n.secondary:"transparent",borderWidth:a||c?2:1}],onPress:function(){return i(e.startTime)},children:[a&&(0,A.jsx)(D.default,{style:[te.progressBar,{backgroundColor:n.divider}],children:(0,A.jsx)(D.default,{style:[te.progressFill,{backgroundColor:n.primary,width:100*f+"%"}]})}),(0,A.jsx)(O.default,{style:[te.chordName,{color:a?n.primary:c?n.secondary:l?n.secondaryText+"80":n.text,fontWeight:a?"bold":c?"600":"normal",fontSize:a?16:14}],children:e.chord}),(0,A.jsx)(O.default,{style:[te.timeText,{color:a?n.primary:n.secondaryText,fontSize:a?11:10}],children:s(e.startTime)}),(0,A.jsxs)(O.default,{style:[te.durationText,{color:n.secondaryText}],children:[e.duration,"s"]}),a&&r&&(0,A.jsx)(D.default,{style:[te.playingIndicator,{backgroundColor:n.primary}],children:(0,A.jsx)(O.default,{style:te.playingIcon,children:"\u266a"})}),c&&(0,A.jsx)(O.default,{style:[te.nextLabel,{color:n.secondary}],children:"NEXT"})]},t)})}),(0,A.jsxs)(D.default,{style:te.controls,children:[(0,A.jsxs)(O.default,{style:[te.positionText,{color:n.secondaryText}],children:["Chord ",d+1," of ",t.length]}),(0,A.jsx)(D.default,{style:[te.globalProgress,{backgroundColor:n.divider}],children:(0,A.jsx)(D.default,{style:[te.globalProgressFill,{backgroundColor:n.primary,width:(d+1)/t.length*100+"%"}]})})]})]})};var re=F.default.create({container:{borderRadius:12,margin:16,marginTop:8,overflow:"hidden",elevation:1,shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.1,shadowRadius:2},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:12,borderBottomWidth:1,borderBottomColor:"rgba(255, 255, 255, 0.1)"},title:{fontSize:14,fontWeight:"bold"},currentInfo:{fontSize:12,fontWeight:"bold",fontFamily:"monospace"},sheetScroll:{maxHeight:100},sheetContent:{paddingLeft:32,paddingRight:16,paddingVertical:12},measure:{width:180,marginRight:8,borderWidth:1,borderRadius:8,padding:8},measureNumber:{fontSize:10,fontWeight:"bold",textAlign:"center",marginBottom:4},beatsRow:{flexDirection:"row",justifyContent:"space-around"},beat:{width:35,height:50,alignItems:"center",justifyContent:"center",borderRadius:4,position:"relative"},chordSymbol:{fontSize:12,fontWeight:"bold",marginBottom:2},beatIndicator:{width:6,height:6,borderRadius:3,marginBottom:2},beatNumber:{fontSize:8,fontWeight:"bold"},playingPulse:{position:"absolute",top:2,right:2,width:8,height:8,borderRadius:4}});const ne=function(e){var t=e.chordProgression,o=e.currentTime,r=e.isPlaying,n=e.theme,i=e.onSeekToTime,a=(0,l.useRef)(null),s=function(){var e=[];if(0===t.length)return e;for(var o=Math.max.apply(Math,(0,Y.default)(t.map(function(e){return e.startTime+e.duration}))),r=Math.ceil(o/1),n=function(){var o=1*i,r=Math.floor(i/4)+1,n=i%4+1,a=t.find(function(e){return o>=e.startTime&&o<e.startTime+e.duration}),s=t.some(function(e){return Math.abs(e.startTime-o)<.5});e.push({chord:(null==a?void 0:a.chord)||"",isChordChange:s,time:o,beatNumber:n,measure:r})},i=0;i<r;i++)n();return e}();(0,l.useEffect)(function(){if(console.log("\ud83c\udfbc EmbeddedRhythmSheet: currentTime updated to",o.toFixed(1),"isPlaying:",r),a.current&&r&&s.length>0){var e=s.findIndex(function(e){return Math.abs(e.time-o)<.5});if(e>=0){var t=s[e];console.log("\ud83c\udfbc Current beat:",t.beatNumber,"measure:",t.measure,"chord:",t.chord);var n=s[e].measure,i=Math.max(0,200*(n-3));a.current.scrollTo({x:i,animated:!0})}}},[o,r,s]);var d=function(e){return Math.abs(e.time-o)<.5},c=function(e){return e.time>o&&e.time<=o+4},u=function(e){return e.time<o-.5},f=function(){var e={};return s.forEach(function(t){e[t.measure]||(e[t.measure]=[]),e[t.measure].push(t)}),e}(),g=Object.keys(f).map(Number).sort(function(e,t){return e-t});return(0,A.jsxs)(D.default,{style:[re.container,{backgroundColor:n.surface}],children:[(0,A.jsxs)(D.default,{style:re.header,children:[(0,A.jsx)(O.default,{style:[re.title,{color:n.text}],children:"Rhythm Sheet \u2022 \u2669 = 60 BPM"}),(0,A.jsx)(O.default,{style:[re.currentInfo,{color:n.primary}],children:function(){var e=s.find(function(e){return Math.abs(e.time-o)<.5});return e?"M"+e.measure+" \u2022 Beat "+e.beatNumber:"Ready to play"}()})]}),(0,A.jsx)(N.default,{ref:a,horizontal:!0,showsHorizontalScrollIndicator:!1,style:re.sheetScroll,contentContainerStyle:re.sheetContent,children:g.map(function(e){return function(e,t){return(0,A.jsxs)(D.default,{style:[re.measure,{borderColor:n.divider}],children:[(0,A.jsx)(O.default,{style:[re.measureNumber,{color:n.secondaryText}],children:e}),(0,A.jsx)(D.default,{style:re.beatsRow,children:t.map(function(e,t){return(0,A.jsxs)(z.default,{style:[re.beat,{backgroundColor:d(e)&&r?n.primary+"40":c(e)?n.secondary+"20":u(e)?n.divider+"20":"transparent"}],onPress:function(){return i(e.time)},children:[e.isChordChange&&e.chord&&(0,A.jsx)(O.default,{style:[re.chordSymbol,{color:d(e)?n.primary:c(e)?n.secondary:n.text,fontWeight:d(e)?"bold":"normal"}],children:e.chord}),(0,A.jsx)(D.default,{style:[re.beatIndicator,{backgroundColor:d(e)&&r?n.primary:1===e.beatNumber?n.text:n.secondaryText,opacity:d(e)&&r?1:.6,transform:d(e)&&r?[{scale:1.2}]:[{scale:1}]}]}),(0,A.jsx)(O.default,{style:[re.beatNumber,{color:d(e)?n.primary:n.secondaryText,fontWeight:1===e.beatNumber?"bold":"normal"}],children:e.beatNumber}),d(e)&&r&&(0,A.jsx)(D.default,{style:[re.playingPulse,{backgroundColor:n.primary}]})]},t)})})]},e)}(e,f[e])})})]})};var ie=o(4743),ae=o(6725).default.get("window"),se=ae.width,le=(ae.height,function(e){var t,o=e.chord,r=e.fingering,n=(e.onFingeringChange,e.theme),i=e.size,a=void 0===i?"medium":i,s=e.isHighlighted,d=void 0!==s&&s,c=e.animationDelay,u=void 0===c?0:c,f=["E","A","D","G","B","E"],g=r.baseFret||1,h=function(e){var t=Math.min(.85*se,320);switch(e){case"small":return{width:.6*t,height:.6*t*1.3,stringSpacing:.6*t/7,fretSpacing:.6*t*1.3/6,dotSize:14,fontSize:10};case"medium":return{width:.75*t,height:.75*t*1.3,stringSpacing:.75*t/7,fretSpacing:.75*t*1.3/6,dotSize:18,fontSize:12};case"large":return{width:t,height:1.3*t,stringSpacing:t/7,fretSpacing:1.3*t/6,dotSize:22,fontSize:14}}}(a),p=(0,l.useRef)(new ie.default.Value(0)).current,m=(0,l.useRef)(new ie.default.Value(1)).current;return(0,l.useEffect)(function(){d?setTimeout(function(){ie.default.parallel([ie.default.timing(p,{toValue:1,duration:300,useNativeDriver:!1}),ie.default.loop(ie.default.sequence([ie.default.timing(m,{toValue:1.05,duration:600,useNativeDriver:!0}),ie.default.timing(m,{toValue:1,duration:600,useNativeDriver:!0})]),{iterations:-1})]).start()},u):(m.stopAnimation(),ie.default.parallel([ie.default.timing(p,{toValue:0,duration:200,useNativeDriver:!1}),ie.default.timing(m,{toValue:1,duration:200,useNativeDriver:!0})]).start())},[d,u,p,m]),(0,A.jsx)(ie.default.View,{style:[de.container,{width:h.width,height:h.height,transform:[{scale:m}]}],children:(0,A.jsxs)(ie.default.View,{style:[de.fretboardContainer,{width:h.width,height:h.height,backgroundColor:n.surface+"20",borderRadius:12,padding:8,elevation:d?6:2,shadowColor:n.primary||"#007AFF",shadowOffset:{width:0,height:2},shadowOpacity:d?.4:.1,shadowRadius:d?8:4,borderWidth:p.interpolate({inputRange:[0,1],outputRange:[1,3],extrapolate:"clamp"}),borderColor:p.interpolate({inputRange:[0,1],outputRange:[n.divider||"#E0E0E0",n.primary||"#007AFF"],extrapolate:"clamp"})}],children:[(0,A.jsx)(D.default,{style:[de.fretboardBackground,{width:h.width-16,height:h.height-16,backgroundColor:"#F5DEB3",borderRadius:8,position:"absolute",top:8,left:8}]}),(0,A.jsx)(O.default,{style:[de.chordNameTop,{color:n.text,fontSize:h.fontSize+2,fontWeight:"bold",textAlign:"center",marginBottom:8}],children:o}),(0,A.jsx)(D.default,{style:[de.nut,{backgroundColor:1===g?"#8B4513":"transparent",height:(f.length-1)*h.stringSpacing+10,width:1===g?5:0,left:25,top:35,borderRadius:2}]}),Array.from({length:5},function(e,t){return(0,A.jsx)(D.default,{style:[de.fretLine,{height:(f.length-1)*h.stringSpacing+10,width:0===t?1===g?0:2.5:1.5,backgroundColor:0===t&&g>1?n.text:"#C0C0C0",left:30+t*h.fretSpacing,top:35,borderRadius:.75,elevation:1}]},"fret-"+t)}),f.map(function(e,t){var o=t<2?2.5:t<4?1.8:1.2;return(0,A.jsx)(D.default,{style:[de.stringLine,{width:4*h.fretSpacing+15,height:o,backgroundColor:"#666",left:25,top:35+t*h.stringSpacing,borderRadius:o/2}]},"string-"+t)}),f.map(function(e,t){return(0,A.jsx)(O.default,{style:[de.stringLabel,{color:n.text,fontSize:h.fontSize-1,fontWeight:"600",left:8,top:30+t*h.stringSpacing,textAlign:"center",width:12}],children:e},"label-"+t)}),g>1&&(0,A.jsxs)(O.default,{style:[de.baseFretNumber,{color:n.text,fontSize:h.fontSize,fontWeight:"bold",left:35+h.fretSpacing/2,top:15,textAlign:"center"}],children:[g,"fr"]}),r.frets.map(function(e,t){return 0!==e?null:(0,A.jsx)(D.default,{style:[de.openStringIndicator,{width:.7*h.dotSize,height:.7*h.dotSize,borderRadius:.7*h.dotSize/2,borderWidth:2,borderColor:n.primary||"#007AFF",backgroundColor:"transparent",left:30-.35*h.dotSize,top:35+t*h.stringSpacing-.35*h.dotSize}]},"open-"+t)}),r.frets.map(function(e,t){return-1!==e?null:(0,A.jsx)(O.default,{style:[de.mutedIndicator,{fontSize:h.fontSize+1,color:"#FF3B30",fontWeight:"bold",left:30-h.fontSize/2,top:27+t*h.stringSpacing,textAlign:"center",width:h.fontSize}],children:"\u2715"},"muted-"+t)}),r.frets.map(function(e,t){var o;if(e<=0)return null;var i=e-g+1;if(i<1||i>4)return null;var a=30+i*h.fretSpacing-h.fretSpacing/2,s=35+t*h.stringSpacing-h.dotSize/2,l=(null==(o=r.fingers)?void 0:o[t])||"";return(0,A.jsx)(D.default,{style:[de.fingerDot,{width:h.dotSize,height:h.dotSize,borderRadius:h.dotSize/2,backgroundColor:n.primary||"#007AFF",left:a,top:s,borderWidth:2,borderColor:"#fff",elevation:3,shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.3,shadowRadius:2,justifyContent:"center",alignItems:"center"}],children:l>0&&(0,A.jsx)(O.default,{style:[de.fingerNumber,{fontSize:h.fontSize-3,color:"#fff",fontWeight:"bold",textAlign:"center"}],children:l})},"finger-"+t)}),null==(t=r.barres)?void 0:t.map(function(e,t){var o=e.fret-g+1;if(o<1||o>4)return null;var r=35+e.startString*h.stringSpacing,i=35+e.endString*h.stringSpacing,a=30+o*h.fretSpacing-h.fretSpacing/2;return(0,A.jsx)(D.default,{style:[de.barreIndicator,{width:.6*h.dotSize,height:Math.abs(i-r)+h.dotSize,backgroundColor:n.primary||"#007AFF",left:a-.3*h.dotSize,top:Math.min(r,i)-h.dotSize/2,borderRadius:.3*h.dotSize,borderWidth:1,borderColor:"#fff",elevation:2}]},"barre-"+t)}),(0,A.jsxs)(O.default,{style:[de.fingeringType,{color:n.secondaryText||"#666",fontSize:h.fontSize-2,textAlign:"center",position:"absolute",bottom:8,width:h.width-16,left:8,fontStyle:"italic"}],children:[r.type," \u2022 ",r.name]})]})})}),de=F.default.create({container:{alignItems:"center",justifyContent:"center"},fretboardContainer:{position:"relative"},fretboardBackground:{},chordNameTop:{marginTop:4},nut:{position:"absolute"},fretLine:{position:"absolute"},stringLine:{position:"absolute"},stringLabel:{position:"absolute"},baseFretNumber:{position:"absolute"},openStringIndicator:{position:"absolute"},mutedIndicator:{position:"absolute"},fingerDot:{position:"absolute"},fingerNumber:{},barreIndicator:{position:"absolute"},fingeringType:{}});var ce=null;if("web"!==B.default.OS)try{ce=o(6632).default,console.log("\u2705 YouTube iframe loaded for native platform")}catch(De){console.log("\u274c YouTube iframe not available for native:",De)}var ue=l.forwardRef(function(e,t){var o=e.videoId,r=e.height,n=void 0===r?200:r,s=e.width,d=void 0===s?"100%":s,c=e.playing,u=void 0!==c&&c,f=e.onChangeState,g=e.onError,h=e.onTimeUpdate,p=e.onPlayingChange,m=e.autoplay,y=void 0!==m&&m,E=e.muted,_=void 0!==E&&E,b=e.loop,S=void 0!==b&&b,I=e.controls,P=void 0===I||I,x=(0,l.useState)(0),T=(0,a.default)(x,2),v=T[0],w=T[1],R=(0,l.useState)(!1),C=(0,a.default)(R,2),j=C[0],N=C[1],F=(0,l.useRef)(null),k=(0,l.useRef)(0),z=(0,l.useCallback)(function(){F.current&&clearInterval(F.current),console.log("\u23f0 Starting YouTube time tracking from:",v),k.current=Date.now()-1e3*v,F.current=setInterval(function(){if("web"===B.default.OS&&"undefined"!==typeof window)try{var e=document.querySelector('iframe[src*="'+o+'"]');e&&e.contentWindow&&e.contentWindow.postMessage('{"event":"command","func":"getCurrentTime","args":""}',"*")}catch(De){console.warn("Could not get YouTube time, using fallback:",De)}var t=(Date.now()-k.current)/1e3;w(t),null==h||h(t)},250)},[v,h,o]),U=(0,l.useCallback)(function(){console.log("\u23f0 Stopping time tracking"),F.current&&(clearInterval(F.current),F.current=null)},[]),L=(0,l.useCallback)(function(e){console.log("\ud83c\udfaf Seeking to time:",e),w(e),null==h||h(e),j&&z()},[h,j,z]),M=(0,l.useCallback)(function(e){console.log("\ud83c\udfb5 Play state change:",e),N(e),null==p||p(e),e?z():U()},[z,U,p]);(0,l.useEffect)(function(){if("web"===B.default.OS&&"undefined"!==typeof window){var e=function(e){try{var t=JSON.parse(e.data);if("video-state-change"===t.event){console.log("\ud83c\udfac YouTube iframe state change:",t.info);var o=1===t.info;o!==j&&M(o)}else"video-time-update"!==t.event&&"infoDelivery"!==t.event||(t.info&&"number"===typeof t.info?(console.log("\ud83c\udfac YouTube iframe time update:",t.info),w(t.info),null==h||h(t.info)):t.info&&void 0!==t.info.currentTime&&(console.log("\ud83c\udfac YouTube iframe getCurrentTime:",t.info.currentTime),w(t.info.currentTime),null==h||h(t.info.currentTime)))}catch(De){}};return window.addEventListener("message",e),function(){return window.removeEventListener("message",e)}}},[j,M,h]),(0,l.useEffect)(function(){u!==j&&M(u)},[u,j,M]),(0,l.useImperativeHandle)(t,function(){return{play:function(){if(console.log("\ud83c\udfb5 YouTube player play() called"),N(!0),null==p||p(!0),z(),"web"===B.default.OS&&"undefined"!==typeof window)try{var e=document.querySelector('iframe[src*="'+o+'"]');e&&e.contentWindow&&e.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}catch(De){console.warn("Could not control iframe directly:",De)}},pause:function(){if(console.log("\u23f8\ufe0f YouTube player pause() called"),N(!1),null==p||p(!1),U(),"web"===B.default.OS&&"undefined"!==typeof window)try{var e=document.querySelector('iframe[src*="'+o+'"]');e&&e.contentWindow&&e.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}catch(De){console.warn("Could not control iframe directly:",De)}},seekTo:function(e){if(L(e),"web"===B.default.OS&&"undefined"!==typeof window)try{var t=document.querySelector('iframe[src*="'+o+'"]');t&&t.contentWindow&&t.contentWindow.postMessage('{"event":"command","func":"seekTo","args":['+e+", true]}","*")}catch(De){console.warn("Could not control iframe directly:",De)}},getCurrentTime:function(){var e=(0,i.default)(function*(){return v});return function(){return e.apply(this,arguments)}}()}},[v,p,z,U,L,o]);var G=(0,l.useCallback)(function(e){null==f||f(e),M("playing"===e)},[f,M]),Y=(0,l.useCallback)(function(e){console.error("YouTube Player Error:",e),null==g||g(e)},[g]);(0,l.useEffect)(function(){return function(){U()}},[U]);var K=new URLSearchParams({autoplay:y?"1":"0",mute:_?"1":"0",controls:P?"1":"0",loop:S?"1":"0",rel:"0",modestbranding:"1",playsinline:"1",enablejsapi:"1",origin:"web"===B.default.OS?window.location.origin:void 0}).toString(),W=o&&/^[a-zA-Z0-9_-]{11,}$/.test(o.trim());return console.log("Video ID validation result:",W,"for videoId:",o),W||console.warn("Invalid YouTube video ID format:",o,"Length:",null==o?void 0:o.length),console.log("UnifiedYouTubePlayer received videoId:",o),console.log("Video ID length:",null==o?void 0:o.length),console.log("Video ID type:",typeof o),(0,A.jsx)(D.default,{style:[fe.container,{height:n,width:d}],children:"web"===B.default.OS?o?(0,A.jsxs)(D.default,{style:{position:"relative"},children:[l.createElement("iframe",{title:"YouTube video "+o,width:"100%",height:n,src:"https://www.youtube.com/embed/"+o.trim()+"?"+K+"&enablejsapi=1&origin="+("web"===B.default.OS&&"undefined"!==typeof window?window.location.origin:""),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,style:{borderRadius:12},onLoad:function(){console.log("YouTube iframe loaded successfully for video:",o),u&&setTimeout(function(){M(!0)},1e3)},onError:function(e){console.error("YouTube iframe error for video:",o,e),null==g||g("Failed to load YouTube video")}}),!W&&(0,A.jsxs)(D.default,{style:fe.debugOverlay,children:[(0,A.jsxs)(O.default,{style:fe.debugText,children:["Video ID: ",o]}),(0,A.jsxs)(O.default,{style:fe.debugText,children:["Length: ",null==o?void 0:o.length]}),(0,A.jsxs)(O.default,{style:fe.debugText,children:["Valid: ",String(W)]})]})]}):(0,A.jsxs)(D.default,{style:fe.fallback,children:[(0,A.jsx)(O.default,{style:fe.fallbackTitle,children:"\u26a0\ufe0f Missing Video ID"}),(0,A.jsx)(O.default,{style:fe.fallbackText,children:"No video ID provided"}),(0,A.jsx)(O.default,{style:fe.fallbackSubText,children:"Unable to load video"}),(0,A.jsx)(O.default,{style:fe.fallbackHint,children:"Please check the video URL"})]}):ce?(0,A.jsx)(ce,{height:n,play:u,videoId:o,onChangeState:function(e){console.log("Native YouTube state change:",e),G(e),M("playing"===e)},onError:function(e){console.error("Native YouTube error:",e),Y(e)},allowWebViewZoom:!1,webViewStyle:{borderRadius:12},initialPlayerParams:{controls:P,modestbranding:!0,rel:!1}}):(0,A.jsxs)(D.default,{style:fe.fallback,children:[(0,A.jsx)(O.default,{style:fe.fallbackTitle,children:"\ud83c\udfb5 YouTube Player"}),(0,A.jsxs)(O.default,{style:fe.fallbackText,children:["Video ID: ",o]}),(0,A.jsx)(O.default,{style:fe.fallbackSubText,children:"Install react-native-youtube-iframe for native support"}),(0,A.jsx)(O.default,{style:fe.fallbackHint,children:"Try opening in the YouTube app"})]})})}),fe=F.default.create({container:{backgroundColor:"#000",borderRadius:12,overflow:"hidden",elevation:4,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84},webView:{backgroundColor:"#000",borderRadius:12},fallback:{justifyContent:"center",alignItems:"center",backgroundColor:"#1a1a1a",borderWidth:2,borderColor:"#333",borderStyle:"dashed"},fallbackTitle:{color:"#fff",fontSize:18,fontWeight:"bold",textAlign:"center",marginBottom:8},fallbackText:{color:"#ccc",fontSize:14,textAlign:"center",marginBottom:4,fontFamily:"monospace"},fallbackSubText:{color:"#888",fontSize:12,textAlign:"center",marginBottom:8},fallbackHint:{color:"#666",fontSize:11,textAlign:"center",fontStyle:"italic"},debugOverlay:{position:"absolute",top:0,right:0,backgroundColor:"rgba(255, 0, 0, 0.8)",padding:4,borderRadius:4,zIndex:1e3},debugText:{color:"#fff",fontSize:10,fontFamily:"monospace"}});const ge=ue;var he=function(e){var t=e.videoId,o=e.songTitle,r=e.chordProgression,n=e.onBack,i=(0,l.useContext)($).theme,s=(0,l.useState)(!1),d=(0,a.default)(s,2),c=d[0],u=d[1],f=(0,l.useState)(0),g=(0,a.default)(f,2),h=g[0],p=g[1],m=(0,l.useState)(0),y=(0,a.default)(m,2),E=y[0],_=y[1],b=(0,l.useState)(!1),S=(0,a.default)(b,2),I=S[0],P=S[1],x=(0,l.useState)("open"),T=(0,a.default)(x,2),v=T[0],w=T[1],R=(0,l.useState)(!1),C=(0,a.default)(R,2),j=C[0],B=C[1],F=(0,l.useState)(!1),k=(0,a.default)(F,2),U=k[0],L=k[1],M=(0,l.useState)("large"),G=(0,a.default)(M,2),Y=G[0],K=G[1],W=(0,l.useState)("idle"),V=(0,a.default)(W,2),H=V[0],J=V[1],q=(0,l.useState)(0),Q=(0,a.default)(q,2),te=Q[0],re=Q[1],ie=(0,l.useRef)(null),ae=(0,l.useCallback)(function(){if(0===r.length)return null;var e=h+te,t=r.find(function(t,o){var r=t.startTime+t.duration,n=e>=t.startTime&&e<r;return n&&console.log("\ud83c\udfb8 Current chord at "+e.toFixed(1)+"s: "+t.chord+" ("+t.startTime+"s - "+r.toFixed(1)+"s)"),n});return t||console.log("\ud83d\udd07 No chord at "+e.toFixed(1)+"s - likely silence period"),t||null},[h,r,te]),se=(0,l.useCallback)(function(){if(0===r.length)return null;var e=h+te,t=r.findIndex(function(t){var o=t.startTime+t.duration;return e>=t.startTime&&e<o});return t>=0&&t<r.length-1?r[t+1]:null},[h,r,te]);(0,l.useEffect)(function(){if(0!==r.length){var e=h+te,t=r.findIndex(function(t){var o=t.startTime+t.duration;return e>=t.startTime&&e<o});if(-1!==t&&t!==E){var o,n=r[t];console.log("\ud83c\udfb5 Chord progression update:",{time:h.toFixed(1),adjustedTime:e.toFixed(1),chord:n.chord,index:t+1,total:r.length,chordStart:n.startTime,chordEnd:(n.startTime+n.duration).toFixed(1),nextChord:(null==(o=r[t+1])?void 0:o.chord)||"End"}),_(t)}else-1===t&&-1!==E&&(console.log("\ud83d\udd07 Entering silence period at",e.toFixed(1)),_(-1))}},[h,r,E,te]);var de=(0,l.useCallback)(function(e){e%2<.5&&console.log("\ud83c\udfb5 SynchronizedChordPlayer received time update:",e.toFixed(1)),p(e)},[]),ce=(0,l.useCallback)(function(e){console.log("SynchronizedChordPlayer state change - playing:",e),e&&!c?(console.log("\ud83c\udfac YouTube started playing - syncing chord player state"),u(!0)):!e&&c&&(console.log("\u23f8\ufe0f YouTube paused - syncing chord player state"),u(!1)),e&&!j&&B(!0)},[j,c]);(0,l.useEffect)(function(){"play"===H&&ie.current?(console.log("\ud83c\udfb5 Forcing player to play"),ie.current.play(),J("idle")):"pause"===H&&ie.current&&(console.log("\u23f8\ufe0f Forcing player to pause"),ie.current.pause(),J("idle"))},[H]);var ue=(0,l.useCallback)(function(e){var t=ee[e];if(!t||!t.fingerings.length)return console.warn("No chord definition found for:",e),null;var o=t.fingerings.find(function(e){return e.type===v})||t.fingerings[0];return console.log("Found fingering for",e,":",o),o},[v]),fe=ae();fe&&ue(fe.chord);return(0,A.jsxs)(D.default,{style:[pe.container,{backgroundColor:i.background}],children:[(0,A.jsxs)(D.default,{style:[pe.header,{backgroundColor:i.surface}],children:[(0,A.jsx)(z.default,{onPress:n,style:pe.backButton,children:(0,A.jsx)(O.default,{style:[pe.backButtonText,{color:i.primary}],children:"\u2190 Back"})}),(0,A.jsx)(O.default,{style:[pe.songTitle,{color:i.text}],numberOfLines:2,children:o}),(0,A.jsxs)(O.default,{style:{color:i.secondaryText,fontSize:12,fontFamily:"monospace"},children:["Debug: ",h.toFixed(1),"s | Chord ",E+1,"/",r.length," | Playing: ",c?"Yes":"No"," | Offset: ",te>0?"+":"",te,"s",r[E]&&(0,A.jsxs)(O.default,{children:[" | Current: ",r[E].chord," (",r[E].startTime,"s)"]})]})]}),(0,A.jsxs)(N.default,{style:pe.content,children:[(0,A.jsx)(D.default,{style:pe.playerContainer,children:(0,A.jsx)(ge,{ref:ie,videoId:t,height:200,playing:c,onTimeUpdate:de,onPlayingChange:ce,onChangeState:function(e){console.log("Player state changed:",e)}})}),(0,A.jsxs)(D.default,{style:[pe.controls,{backgroundColor:i.surface}],children:[(0,A.jsx)(z.default,{style:[pe.controlButton,{backgroundColor:c?i.secondary:i.primary,flex:1}],onPress:function(){console.log("\ud83c\udfb5 Play/Pause button pressed, current state:",c),c?(console.log("\u23f8\ufe0f Pausing playback"),u(!1),J("pause")):(console.log("\u25b6\ufe0f Starting synchronized playback"),u(!0),J("play"))},children:(0,A.jsx)(O.default,{style:pe.controlButtonText,children:c?"\u23f8\ufe0f Pause":"\u25b6\ufe0f Start Playing"})}),(0,A.jsx)(z.default,{style:[pe.controlButton,{backgroundColor:i.secondary}],onPress:function(){console.log("\ud83d\udd04 Starting over - resetting to beginning"),ie.current&&ie.current.seekTo(0),p(0),_(0),u(!1),J("pause")},children:(0,A.jsx)(O.default,{style:pe.controlButtonText,children:"\ud83d\udd04 Start Over"})}),(0,A.jsx)(z.default,{style:[pe.controlButton,{backgroundColor:I?i.primary:i.secondary}],onPress:function(){P(!I)},children:(0,A.jsx)(O.default,{style:pe.controlButtonText,children:"\ud83d\udd01 Loop"})}),!j&&(0,A.jsx)(z.default,{style:[pe.controlButton,{backgroundColor:i.primary}],onPress:function(){return L(!0)},children:(0,A.jsx)(O.default,{style:pe.controlButtonText,children:"\ud83c\udfb8 Style"})}),(0,A.jsx)(z.default,{style:[pe.controlButton,{backgroundColor:i.secondary}],onPress:function(){return re(function(e){return Math.max(-10,e-.5)})},children:(0,A.jsx)(O.default,{style:pe.controlButtonText,children:"\u23ea -0.5s"})}),(0,A.jsx)(z.default,{style:[pe.controlButton,{backgroundColor:i.secondary}],onPress:function(){return re(function(e){return Math.min(10,e+.5)})},children:(0,A.jsx)(O.default,{style:pe.controlButtonText,children:"\u23e9 +0.5s"})}),0!==te&&(0,A.jsx)(z.default,{style:[pe.controlButton,{backgroundColor:"#ff6b6b"}],onPress:function(){return re(0)},children:(0,A.jsx)(O.default,{style:pe.controlButtonText,children:"\u21a9\ufe0f Reset"})})]}),(0,A.jsx)(oe,{chordProgression:r,currentTime:h+te,isPlaying:c,theme:i,onSeekToTime:function(e){ie.current&&(ie.current.seekTo(e-te),p(e-te))}}),(0,A.jsx)(ne,{chordProgression:r,currentTime:h+te,isPlaying:c,theme:i,onSeekToTime:function(e){ie.current&&(ie.current.seekTo(e-te),p(e-te))}}),function(){var e=ae(),t=se(),o=e?ue(e.chord):null,r=t?ue(t.chord):null;return e?o?(0,A.jsxs)(D.default,{style:[pe.chordDisplay,{backgroundColor:i.surface}],children:[(0,A.jsxs)(D.default,{style:pe.currentNextContainer,children:[(0,A.jsxs)(D.default,{style:pe.currentChordSection,children:[(0,A.jsx)(O.default,{style:[pe.currentChordLabel,{color:i.text}],children:"Now Playing"}),(0,A.jsx)(O.default,{style:[pe.chordName,{color:i.primary}],children:e.chord}),(0,A.jsx)(D.default,{style:pe.fretboardContainer,children:(0,A.jsx)(le,{chord:e.chord,fingering:o,theme:i,size:Y,isHighlighted:c,animationDelay:0})})]}),t&&r&&(0,A.jsxs)(D.default,{style:pe.nextChordSection,children:[(0,A.jsx)(O.default,{style:[pe.nextChordLabel,{color:i.secondaryText}],children:"Next Up"}),(0,A.jsx)(O.default,{style:[pe.nextChordName,{color:i.text}],children:t.chord}),(0,A.jsxs)(O.default,{style:[pe.nextChordTime,{color:i.secondaryText}],children:["in ",Math.max(0,Math.floor(t.startTime-h)),"s"]}),(0,A.jsx)(D.default,{style:pe.nextFretboardContainer,children:(0,A.jsx)(le,{chord:t.chord,fingering:r,theme:i,size:"small",isHighlighted:!1,animationDelay:0})})]})]}),(0,A.jsxs)(O.default,{style:[pe.fingeringStyle,{color:i.secondaryText}],children:[v.charAt(0).toUpperCase()+v.slice(1)," Style",j&&" (Locked)"]}),(0,A.jsx)(D.default,{style:pe.sizeControls,children:["small","medium","large"].map(function(e){return(0,A.jsx)(z.default,{style:[pe.sizeButton,{backgroundColor:Y===e?i.primary:i.secondary}],onPress:function(){return K(e)},children:(0,A.jsx)(O.default,{style:pe.sizeButtonText,children:e.charAt(0).toUpperCase()+e.slice(1)})},e)})})]}):null:(0,A.jsxs)(D.default,{style:[pe.chordDisplay,{backgroundColor:i.surface}],children:[(0,A.jsx)(O.default,{style:[pe.currentChordLabel,{color:i.secondaryText}],children:"\ud83d\udd07 Silence Period"}),(0,A.jsx)(O.default,{style:[pe.fingeringStyle,{color:i.secondaryText}],children:"No chords playing - this might be an instrumental break or quiet section"}),t&&(0,A.jsx)(D.default,{style:pe.nextChordPreview,children:(0,A.jsxs)(O.default,{style:[pe.nextChordLabel,{color:i.text}],children:["Next chord: ",t.chord," at ",t.startTime,"s"]})})]})}()]}),function(){var e=ae();if(!e)return null;var t=ee[e.chord];return t?(0,A.jsx)(Z.default,{visible:U,transparent:!0,animationType:"slide",onRequestClose:function(){return L(!1)},children:(0,A.jsx)(D.default,{style:pe.modalOverlay,children:(0,A.jsxs)(D.default,{style:[pe.modalContent,{backgroundColor:i.surface}],children:[(0,A.jsxs)(D.default,{style:pe.modalHeader,children:[(0,A.jsxs)(O.default,{style:[pe.modalTitle,{color:i.text}],children:["Choose ",e.chord," Fingering Style"]}),(0,A.jsx)(z.default,{onPress:function(){return L(!1)},style:pe.closeButton,children:(0,A.jsx)(O.default,{style:[pe.closeButtonText,{color:i.text}],children:"\u2715"})})]}),(0,A.jsx)(X.default,{data:t.fingerings,keyExtractor:function(e,t){return e.type+"-"+t},renderItem:function(t){var o=t.item;t.index;return(0,A.jsxs)(z.default,{style:[pe.fingeringOption,{backgroundColor:v===o.type?i.primary+"20":"transparent",borderColor:v===o.type?i.primary:i.divider}],onPress:function(){w(o.type),L(!1)},children:[(0,A.jsx)(D.default,{style:pe.fingeringPreview,children:(0,A.jsx)(le,{chord:e.chord,fingering:o,theme:i,size:"small"})}),(0,A.jsxs)(O.default,{style:[pe.fingeringLabel,{color:i.text}],children:[o.type.charAt(0).toUpperCase()+o.type.slice(1)," - ",o.name]})]})}})]})})}):null}()]})},pe=F.default.create({container:{flex:1},header:{flexDirection:"row",alignItems:"center",padding:16,paddingTop:50,elevation:2,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4},backButton:{marginRight:16},backButtonText:{fontSize:16,fontWeight:"bold"},songTitle:{flex:1,fontSize:18,fontWeight:"bold"},content:{flex:1},playerContainer:{margin:16,borderRadius:12,overflow:"hidden"},controls:{flexDirection:"row",justifyContent:"space-around",padding:16,marginHorizontal:16,borderRadius:12,marginBottom:16},controlButton:{paddingHorizontal:16,paddingVertical:12,borderRadius:8,minWidth:80,alignItems:"center"},controlButtonText:{color:"#fff",fontWeight:"bold",fontSize:12},progressContainer:{marginHorizontal:16,marginBottom:16},chordProgressItem:{padding:12,marginRight:8,borderRadius:8,borderWidth:2,minWidth:60,alignItems:"center"},chordProgressText:{fontSize:16,fontWeight:"bold"},chordTimeText:{fontSize:10,marginTop:2},chordDisplay:{margin:16,padding:20,borderRadius:12,alignItems:"center"},currentChordLabel:{fontSize:24,fontWeight:"bold",marginBottom:8},fingeringStyle:{fontSize:14,marginBottom:20},fretboardContainer:{alignItems:"center",marginBottom:20},sizeControls:{flexDirection:"row",gap:8},sizeButton:{paddingHorizontal:12,paddingVertical:6,borderRadius:6},sizeButtonText:{color:"#fff",fontWeight:"bold",fontSize:12},modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center",alignItems:"center"},modalContent:{width:"90%",maxHeight:"80%",borderRadius:12,padding:20},modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:20},modalTitle:{fontSize:18,fontWeight:"bold",flex:1},closeButton:{padding:4},closeButtonText:{fontSize:20,fontWeight:"bold"},fingeringOption:{flexDirection:"row",alignItems:"center",padding:12,borderRadius:8,borderWidth:1,marginBottom:8},fingeringPreview:{marginRight:16},fingeringLabel:{flex:1,fontSize:16},chordPreviewSection:{margin:16,padding:16,borderRadius:12},sectionTitle:{fontSize:18,fontWeight:"bold",marginBottom:12,textAlign:"center"},chordPreviewContainer:{flexDirection:"row"},chordPreviewItem:{alignItems:"center",marginRight:16,padding:8,minWidth:80},previewChordName:{fontSize:14,fontWeight:"600",marginBottom:4},previewTimeText:{fontSize:10,marginBottom:8},miniatureFretboard:{borderWidth:2,borderRadius:8,padding:4},currentNextContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",marginBottom:20},currentChordSection:{flex:2,alignItems:"center",marginRight:16},nextChordSection:{flex:1,alignItems:"center",padding:12,backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:8,borderWidth:1,borderColor:"rgba(255, 255, 255, 0.1)"},chordName:{fontSize:32,fontWeight:"bold",marginBottom:16},nextChordLabel:{fontSize:12,textTransform:"uppercase",marginBottom:4},nextChordName:{fontSize:18,fontWeight:"bold",marginBottom:4},nextChordTime:{fontSize:11,marginBottom:8},nextFretboardContainer:{alignItems:"center"},nextIndicator:{fontSize:8,fontWeight:"bold",marginTop:2},progressIndicator:{marginTop:16,paddingHorizontal:16},progressText:{fontSize:12,textAlign:"center",marginBottom:8},progressBar:{height:4,borderRadius:2,overflow:"hidden"},progressFill:{height:"100%",borderRadius:2},nextChordPreview:{marginTop:16,padding:12,backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:8,alignItems:"center"}});var me=F.default.create({container:{flex:1},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#1a1a1a",padding:20},loadingText:{color:"#fff",fontSize:18,fontWeight:"600",marginTop:20,textAlign:"center"},loadingSubtext:{color:"#888",fontSize:14,marginTop:8,textAlign:"center"},errorContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#1a1a1a",padding:20},errorText:{color:"#ff6b6b",fontSize:18,fontWeight:"600",marginBottom:10,textAlign:"center"},errorMessage:{color:"#fff",fontSize:14,marginBottom:10,textAlign:"center"},errorSubtext:{color:"#888",fontSize:12,textAlign:"center"}});const ye=function(e){var t=e.route,o=e.navigation,r=t.params,n=r.youtubeUrl,s=r.songTitle,d=(r.thumbnail,r.channel,(0,l.useState)([])),c=(0,a.default)(d,2),u=c[0],f=c[1],g=(0,l.useState)(!0),h=(0,a.default)(g,2),p=h[0],m=h[1],y=(0,l.useState)(null),E=(0,a.default)(y,2),_=E[0],b=E[1],S=function(e){console.log("\ud83c\udfb5 Generating chord progression for:",e);var t={intro:["Am","E","G","D","F","C","Dm","E"],verse:["Am","E","G","D","F","C","Dm","E"],chorus:["F","C","E","Am","F","C","Dm","E"],bridge:["Am","E","G","D","F","C","Dm","E"],outro:["Am","E","G","D","F","C","Dm","E","Am"],silencePeriods:[{start:0,end:8},{start:120,end:125},{start:200,end:210}]},o={intro:["Em7","G","D","C"],verse:["Em7","G","D","C","Em7","G","D","C"],chorus:["C","D","G","Em7","C","D","G","G"],bridge:["C","D","G","Em7","C","D","Em7","Em7"],outro:["Em7","G","D","C","Em7"],silencePeriods:[{start:0,end:4},{start:180,end:190}]},r={intro:["C","G","Am","F"],verse:["C","G","Am","F","C","G","F","C"],chorus:["F","C","G","Am","F","C","G","G"],bridge:["Am","F","C","G","Am","F","G","G"],outro:["C","G","Am","F","C"],silencePeriods:[{start:0,end:2},{start:160,end:170}]},n=e.toLowerCase(),i=r;n.includes("hotel")||n.includes("california")?(i=t,console.log("\ud83c\udfb8 Using Hotel California structure")):n.includes("wonderwall")?(i=o,console.log("\ud83c\udfb8 Using Wonderwall structure")):console.log("\ud83c\udfb8 Using default structure");var a=[];a.push.apply(a,(0,Y.default)(i.intro)),console.log("After intro:",a.length,"chords"),a.push.apply(a,(0,Y.default)(i.verse)),console.log("After verse 1:",a.length,"chords"),a.push.apply(a,(0,Y.default)(i.chorus)),console.log("After chorus 1:",a.length,"chords"),a.push.apply(a,(0,Y.default)(i.verse)),console.log("After verse 2:",a.length,"chords"),a.push.apply(a,(0,Y.default)(i.chorus)),console.log("After chorus 2:",a.length,"chords"),a.push.apply(a,(0,Y.default)(i.bridge)),console.log("After bridge:",a.length,"chords"),a.push.apply(a,(0,Y.default)(i.chorus)),console.log("After final chorus:",a.length,"chords"),a.push.apply(a,(0,Y.default)(i.outro)),console.log("Final progression length:",a.length,"chords");var s=[],l=0,d=function(e){return!!i.silencePeriods&&i.silencePeriods.some(function(t){return e>=t.start&&e<t.end})};a.forEach(function(e,t){if(d(l))return console.log("\ud83d\udd07 Skipping chord "+e+" at "+l+"s - in silence period"),void(l+=2);var o=4;if(t<i.intro.length)o=Math.random()>.5?8:6;else if(t>=a.length-i.outro.length)o=Math.random()>.3?8:6;else if(t<i.intro.length+2*i.verse.length)o=Math.random()>.8?2:4;else{var r=Math.random();o=r>.9?2:r>.7?8:4}s.push({chord:e,startTime:l,duration:o}),l+=o});var c=s.filter(function(e){for(var t=e.startTime+e.duration,o=e.startTime;o<t;o+=.5)if(!d(o))return!0;return!1});return console.log("Generated chord progression:",c.length,"chords, total duration:",l,"seconds"),console.log("Silence periods:",i.silencePeriods||"None"),console.log("Filtered out",s.length-c.length,"chords in silence periods"),console.log("Structure used:",{intro:i.intro.length,verse:i.verse.length,chorus:i.chorus.length,bridge:i.bridge.length,outro:i.outro.length}),console.log("First 10 chords:",c.slice(0,10)),console.log("Last 10 chords:",c.slice(-10)),c};(0,l.useEffect)(function(){var e=function(){var e=(0,i.default)(function*(){try{m(!0),b(null);var e=yield J(n);if(e.length<10){console.log("\ud83c\udfb5 API returned insufficient chords:",e.length,"- using fallback");var t=S(s,180);console.log("Generated realistic progression:",t),f(t)}else{console.log("\ud83c\udfb5 Using API chord data:",e.length,"chords");var o=function(e){return e.map(function(t,o){var r=e[o+1],n=r?r.time-t.time:4;return{chord:t.chord,startTime:t.time,duration:Math.max(.5,n)}})}(e);console.log("Converted chord timing:",o),f(o)}}catch(_){console.error("Chord analysis failed:",_),b(_ instanceof Error?_.message:"Analysis failed");var r=S(s,180);console.log("Fallback realistic progression:",r),f(r)}finally{m(!1)}});return function(){return e.apply(this,arguments)}}();e()},[n]);var I=function(e){var t=e.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/);return t?t[1]:""}(n);return p?(0,A.jsxs)(D.default,{style:me.loadingContainer,children:[(0,A.jsx)(C.default,{size:"large",color:"#007bff"}),(0,A.jsx)(O.default,{style:me.loadingText,children:"Analyzing chord progression..."}),(0,A.jsx)(O.default,{style:me.loadingSubtext,children:"This may take a few moments"})]}):_?(0,A.jsxs)(D.default,{style:me.errorContainer,children:[(0,A.jsx)(O.default,{style:me.errorText,children:"Analysis Error"}),(0,A.jsx)(O.default,{style:me.errorMessage,children:_}),(0,A.jsx)(O.default,{style:me.errorSubtext,children:"Using fallback chord progression"})]}):(0,A.jsx)(D.default,{style:me.container,children:(0,A.jsx)(he,{videoId:I,songTitle:s,chordProgression:u,onBack:function(){return o.goBack()}})})};function Ee(){var e,t=(0,R.useNavigation)(),o=T(),r=o.user,n=o.logout;o.isConnected,o.isLoading;return(0,A.jsxs)(N.default,{style:_e.container,children:[(0,A.jsxs)(D.default,{style:_e.header,children:[(0,A.jsx)(O.default,{style:_e.welcomeText,children:r?"Welcome back, "+(null==r||null==(e=r.email)?void 0:e.split("@")[0])+"!":"Welcome to ChordsLegend!"}),(0,A.jsx)(O.default,{style:_e.subtitle,children:"Discover chords for your favorite songs"})]}),(0,A.jsxs)(D.default,{style:_e.quickActions,children:[(0,A.jsxs)(z.default,{style:_e.actionButton,onPress:function(){return t.navigate("Search")},children:[(0,A.jsx)(O.default,{style:_e.actionIcon,children:"\ud83d\udd0d"}),(0,A.jsx)(O.default,{style:_e.actionText,children:"Search Songs"})]}),(0,A.jsxs)(z.default,{style:_e.actionButton,onPress:function(){return t.navigate("Library")},children:[(0,A.jsx)(O.default,{style:_e.actionIcon,children:"\ud83d\udcda"}),(0,A.jsx)(O.default,{style:_e.actionText,children:"My Library"})]}),(0,A.jsxs)(z.default,{style:_e.actionButton,onPress:function(){r?n():t.navigate("Auth")},children:[(0,A.jsx)(O.default,{style:_e.actionIcon,children:r?"\ud83d\udeaa":"\ud83d\udd10"}),(0,A.jsx)(O.default,{style:_e.actionText,children:r?"Logout":"Login / Sign Up"})]})]}),(0,A.jsxs)(D.default,{style:_e.section,children:[(0,A.jsx)(O.default,{style:_e.sectionTitle,children:"How It Works"}),(0,A.jsxs)(D.default,{style:_e.howItWorks,children:[(0,A.jsxs)(D.default,{style:_e.step,children:[(0,A.jsx)(O.default,{style:_e.stepNumber,children:"1"}),(0,A.jsx)(O.default,{style:_e.stepText,children:"Search for any song"})]}),(0,A.jsxs)(D.default,{style:_e.step,children:[(0,A.jsx)(O.default,{style:_e.stepNumber,children:"2"}),(0,A.jsx)(O.default,{style:_e.stepText,children:"Get instant chord analysis"})]}),(0,A.jsxs)(D.default,{style:_e.step,children:[(0,A.jsx)(O.default,{style:_e.stepNumber,children:"3"}),(0,A.jsx)(O.default,{style:_e.stepText,children:"Play along with chords"})]})]})]})]})}var _e=F.default.create({container:{flex:1,backgroundColor:"#1a1a1a"},header:{padding:20,paddingTop:40},welcomeText:{fontSize:24,fontWeight:"bold",color:"#fff",marginBottom:8},subtitle:{fontSize:16,color:"#888"},quickActions:{flexDirection:"row",padding:20,gap:15},actionButton:{flex:1,backgroundColor:"#333",padding:20,borderRadius:15,alignItems:"center"},actionIcon:{fontSize:30,marginBottom:10},actionText:{color:"#fff",fontSize:16,fontWeight:"500"},section:{padding:20},sectionTitle:{fontSize:20,fontWeight:"bold",color:"#fff",marginBottom:15},sectionSubtitle:{fontSize:14,color:"#888",marginBottom:15},featuredItem:{width:160,marginRight:15},featuredImage:{width:160,height:120,borderRadius:10,marginBottom:8},featuredTitle:{color:"#fff",fontSize:14,fontWeight:"500"},debugButton:{backgroundColor:"#ff6b35"},howItWorks:{gap:15},step:{flexDirection:"row",alignItems:"center"},stepNumber:{width:30,height:30,backgroundColor:"#007AFF",color:"#fff",textAlign:"center",lineHeight:30,borderRadius:15,fontWeight:"bold",marginRight:15},stepText:{color:"#fff",fontSize:16,marginLeft:15,flex:1},statusContainer:{padding:10,margin:15,borderRadius:5,borderWidth:1},statusText:{fontSize:16,fontWeight:"bold",textAlign:"center"}}),be=o(1087),Se=o(1690),Ae=o(484);function Ie(){var e=(0,l.useState)([]),t=(0,a.default)(e,2),o=t[0],r=t[1],n=(0,l.useState)(!0),s=(0,a.default)(n,2),d=s[0],c=s[1],u=(0,R.useNavigation)();(0,R.useFocusEffect)(l.useCallback(function(){f()},[]));var f=function(){var e=(0,i.default)(function*(){try{var e=yield be.default.getItem("favorites");e&&r(JSON.parse(e))}catch(ze){console.error("Error loading favorites:",ze)}finally{c(!1)}});return function(){return e.apply(this,arguments)}}(),g=function(){var e=(0,i.default)(function*(e){Se.default.alert("Remove Favorite","Are you sure you want to remove this song from favorites?",[{text:"Cancel",style:"cancel"},{text:"Remove",style:"destructive",onPress:function(){var t=(0,i.default)(function*(){try{var t=o.filter(function(t){return t.id!==e});r(t),yield be.default.setItem("favorites",JSON.stringify(t))}catch(ze){console.error("Error removing favorite:",ze)}});return function(){return t.apply(this,arguments)}}()}])});return function(t){return e.apply(this,arguments)}}();return d?(0,A.jsx)(D.default,{style:Te.centerContainer,children:(0,A.jsx)(O.default,{style:Te.loadingText,children:"Loading favorites..."})}):(0,A.jsxs)(D.default,{style:Te.container,children:[(0,A.jsxs)(D.default,{style:Te.header,children:[(0,A.jsx)(O.default,{style:Te.headerTitle,children:"My Favorites"}),(0,A.jsxs)(O.default,{style:Te.headerSubtitle,children:[o.length," song",1!==o.length?"s":""]})]}),(0,A.jsx)(X.default,{data:o,keyExtractor:function(e){return e.id},renderItem:function(e){var t=e.item;return(0,A.jsxs)(z.default,{style:Te.favoriteItem,onPress:function(){return e=t,void u.navigate("ChordPlayer",{youtubeUrl:"https://www.youtube.com/watch?v="+e.id,songTitle:e.title,thumbnail:e.thumbnail,channel:e.channelTitle,chords:[]});var e},children:[(0,A.jsx)(Ae.default,{source:{uri:t.thumbnail},style:Te.thumbnail}),(0,A.jsxs)(D.default,{style:Te.songInfo,children:[(0,A.jsx)(O.default,{style:Te.songTitle,numberOfLines:2,children:t.title}),(0,A.jsx)(O.default,{style:Te.channelTitle,numberOfLines:1,children:t.channelTitle}),(0,A.jsxs)(O.default,{style:Te.dateAdded,children:["Added ",new Date(t.dateAdded).toLocaleDateString()]})]}),(0,A.jsx)(z.default,{style:Te.removeButton,onPress:function(){return g(t.id)},children:(0,A.jsx)(O.default,{style:Te.removeButtonText,children:"\xd7"})})]})},contentContainerStyle:0===o.length?Te.emptyContainer:void 0,ListEmptyComponent:(0,A.jsxs)(D.default,{style:Te.emptyState,children:[(0,A.jsx)(O.default,{style:Te.emptyIcon,children:"\ud83c\udfb5"}),(0,A.jsx)(O.default,{style:Te.emptyTitle,children:"No favorites yet"}),(0,A.jsx)(O.default,{style:Te.emptyText,children:"Search for songs and add them to your favorites to see them here"}),(0,A.jsx)(z.default,{style:Te.searchButton,onPress:function(){return u.navigate("Search")},children:(0,A.jsx)(O.default,{style:Te.searchButtonText,children:"Start Searching"})})]})})]})}var Pe,xe,Te=F.default.create({container:{flex:1,backgroundColor:"#1a1a1a"},centerContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#1a1a1a"},loadingText:{color:"#888",fontSize:16},header:{padding:20,borderBottomWidth:1,borderBottomColor:"#333"},headerTitle:{fontSize:24,fontWeight:"bold",color:"#fff",marginBottom:4},headerSubtitle:{fontSize:16,color:"#888"},favoriteItem:{flexDirection:"row",padding:16,borderBottomWidth:1,borderBottomColor:"#333",alignItems:"center"},thumbnail:{width:80,height:60,borderRadius:8,marginRight:12},songInfo:{flex:1},songTitle:{color:"#fff",fontSize:16,fontWeight:"500",marginBottom:4},channelTitle:{color:"#888",fontSize:14,marginBottom:2},dateAdded:{color:"#666",fontSize:12},removeButton:{width:30,height:30,backgroundColor:"#333",borderRadius:15,justifyContent:"center",alignItems:"center"},removeButtonText:{color:"#ff4444",fontSize:20,fontWeight:"bold"},emptyContainer:{flex:1},emptyState:{flex:1,justifyContent:"center",alignItems:"center",padding:40},emptyIcon:{fontSize:60,marginBottom:20},emptyTitle:{fontSize:20,fontWeight:"bold",color:"#fff",marginBottom:10,textAlign:"center"},emptyText:{fontSize:16,color:"#888",textAlign:"center",lineHeight:24,marginBottom:30},searchButton:{backgroundColor:"#007AFF",paddingHorizontal:30,paddingVertical:15,borderRadius:25},searchButtonText:{color:"#fff",fontSize:16,fontWeight:"bold"}}),ve=o(7109),we=null==(Pe=u.default.expoConfig)||null==(xe=Pe.extra)?void 0:xe.YOUTUBE_API_KEY,Re=function(){var e=(0,i.default)(function*(e){try{return(yield ve.default.get("https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=25&q="+encodeURIComponent(e)+"&type=video&key="+we)).data.items.map(function(e){var t;return{id:e.id.videoId,title:e.snippet.title,thumbnail:(null==(t=e.snippet.thumbnails.medium)?void 0:t.url)||e.snippet.thumbnails.default.url,channelTitle:e.snippet.channelTitle,publishedAt:e.snippet.publishedAt}})}catch(ze){throw console.error("YouTube search error:",ze),new Error("Failed to search YouTube")}});return function(t){return e.apply(this,arguments)}}();function Ce(){var e=(0,l.useState)(""),t=(0,a.default)(e,2),o=t[0],r=t[1],n=(0,l.useState)([]),s=(0,a.default)(n,2),d=s[0],c=s[1],u=(0,l.useState)(!1),f=(0,a.default)(u,2),g=f[0],h=f[1],p=(0,l.useState)([]),m=(0,a.default)(p,2),y=m[0],E=m[1],_=(0,R.useNavigation)();l.useEffect(function(){b()},[]);var b=function(){var e=(0,i.default)(function*(){try{var e=yield be.default.getItem("favorites");if(e){var t=JSON.parse(e);E(t.map(function(e){return e.id}))}}catch(ze){console.error("Error loading favorites:",ze)}});return function(){return e.apply(this,arguments)}}(),S=function(){var e=(0,i.default)(function*(e){try{var t=yield be.default.getItem("favorites"),o=t?JSON.parse(t):[];if(o.some(function(t){return t.id===e.id}))o=o.filter(function(t){return t.id!==e.id}),E(y.filter(function(t){return t!==e.id})),Se.default.alert("Removed","Song removed from favorites");else{var r={id:e.id,title:e.title,thumbnail:e.thumbnail,channelTitle:e.channelTitle,dateAdded:(new Date).toISOString()};o.push(r),E([].concat((0,Y.default)(y),[e.id])),Se.default.alert("Added","Song added to favorites")}yield be.default.setItem("favorites",JSON.stringify(o))}catch(ze){console.error("Error toggling favorite:",ze),Se.default.alert("Error","Failed to update favorites")}});return function(t){return e.apply(this,arguments)}}(),I=function(){var e=(0,i.default)(function*(){if(o.trim()){h(!0);try{var e=yield Re(o);c(e)}catch(ze){Se.default.alert("Error","Failed to search. Please try again.")}finally{h(!1)}}else Se.default.alert("Error","Please enter a search term")});return function(){return e.apply(this,arguments)}}();return(0,A.jsxs)(D.default,{style:je.container,children:[(0,A.jsxs)(D.default,{style:je.searchContainer,children:[(0,A.jsx)(k.default,{style:je.searchInput,placeholder:"Search for songs...",placeholderTextColor:"#888",value:o,onChangeText:r,onSubmitEditing:I}),(0,A.jsx)(z.default,{style:[je.searchButton,g&&je.searchButtonDisabled],onPress:I,disabled:g,children:(0,A.jsx)(O.default,{style:je.searchButtonText,children:g?"Searching...":"Search"})})]}),(0,A.jsx)(X.default,{data:d,keyExtractor:function(e){return e.id},renderItem:function(e){var t=e.item,o=y.includes(t.id);return(0,A.jsxs)(z.default,{style:je.resultItem,onPress:function(){return function(e){var t="https://www.youtube.com/watch?v="+e.id;_.navigate("ChordPlayer",{youtubeUrl:t,songTitle:e.title,thumbnail:e.thumbnail,channel:e.channelTitle,chords:[]})}(t)},children:[(0,A.jsx)(Ae.default,{source:{uri:t.thumbnail},style:je.thumbnail}),(0,A.jsxs)(D.default,{style:je.resultInfo,children:[(0,A.jsx)(O.default,{style:je.resultTitle,numberOfLines:2,children:t.title}),(0,A.jsx)(O.default,{style:je.resultChannel,numberOfLines:1,children:t.channelTitle})]}),(0,A.jsx)(z.default,{style:je.favoriteButton,onPress:function(){return S(t)},children:(0,A.jsx)(O.default,{style:[je.favoriteIcon,o&&je.favoriteIconActive],children:o?"\u2764\ufe0f":"\ud83e\udd0d"})})]})},style:je.resultsList,showsVerticalScrollIndicator:!1,ListEmptyComponent:(0,A.jsx)(D.default,{style:je.emptyContainer,children:(0,A.jsx)(O.default,{style:je.emptyText,children:g?"Searching...":"Search for your favorite songs"})})})]})}var je=F.default.create({container:{flex:1,backgroundColor:"#1a1a1a"},searchContainer:{flexDirection:"row",padding:16,gap:12},searchInput:{flex:1,backgroundColor:"#333",color:"#fff",padding:12,borderRadius:8,fontSize:16},searchButton:{backgroundColor:"#007AFF",paddingHorizontal:20,paddingVertical:12,borderRadius:8,justifyContent:"center"},searchButtonDisabled:{backgroundColor:"#555"},searchButtonText:{color:"#fff",fontWeight:"bold"},resultsList:{flex:1},resultItem:{flexDirection:"row",padding:16,borderBottomWidth:1,borderBottomColor:"#333",alignItems:"center"},thumbnail:{width:80,height:60,borderRadius:8,marginRight:12},resultInfo:{flex:1,justifyContent:"center"},resultTitle:{color:"#fff",fontSize:16,fontWeight:"500",marginBottom:4},resultChannel:{color:"#888",fontSize:14},emptyContainer:{flex:1,justifyContent:"center",alignItems:"center",paddingTop:100},emptyText:{color:"#888",fontSize:16,textAlign:"center"},favoriteButton:{padding:8,marginLeft:8},favoriteIcon:{fontSize:24},favoriteIconActive:{fontSize:24}}),Be=o(4037);function Ne(){var e=(0,l.useState)(!0),t=(0,a.default)(e,2),o=t[0],r=t[1],n=(0,l.useState)(!0),s=(0,a.default)(n,2),d=s[0],c=s[1],u=T(),f=u.user,g=u.logout,h=function(){var e=(0,i.default)(function*(){Se.default.alert("Clear Cache","This will remove all cached data including favorites. Continue?",[{text:"Cancel",style:"cancel"},{text:"Clear",style:"destructive",onPress:function(){var e=(0,i.default)(function*(){try{yield be.default.clear(),Se.default.alert("Success","Cache cleared successfully")}catch(ze){Se.default.alert("Error","Failed to clear cache")}});return function(){return e.apply(this,arguments)}}()}])});return function(){return e.apply(this,arguments)}}(),p=function(e){var t=e.title,o=e.subtitle,r=e.onPress,n=e.showSwitch,i=void 0!==n&&n,a=e.switchValue,s=void 0!==a&&a,l=e.onSwitchChange;return(0,A.jsxs)(z.default,{style:Fe.settingItem,onPress:r,disabled:i,children:[(0,A.jsxs)(D.default,{style:Fe.settingContent,children:[(0,A.jsx)(O.default,{style:Fe.settingTitle,children:t}),o&&(0,A.jsx)(O.default,{style:Fe.settingSubtitle,children:o})]}),i&&(0,A.jsx)(Be.default,{value:s,onValueChange:l,trackColor:{false:"#333",true:"#007AFF"},thumbColor:"#fff"})]})};return(0,A.jsxs)(N.default,{style:Fe.container,children:[(0,A.jsxs)(D.default,{style:Fe.header,children:[(0,A.jsx)(O.default,{style:Fe.headerTitle,children:"Settings"}),(0,A.jsxs)(O.default,{style:Fe.headerSubtitle,children:["Signed in as ",null==f?void 0:f.email]})]}),(0,A.jsxs)(D.default,{style:Fe.section,children:[(0,A.jsx)(O.default,{style:Fe.sectionTitle,children:"Appearance"}),(0,A.jsx)(p,{title:"Dark Mode",subtitle:"Use dark theme throughout the app",showSwitch:!0,switchValue:o,onSwitchChange:r})]}),(0,A.jsxs)(D.default,{style:Fe.section,children:[(0,A.jsx)(O.default,{style:Fe.sectionTitle,children:"Notifications"}),(0,A.jsx)(p,{title:"Push Notifications",subtitle:"Get notified about new features and updates",showSwitch:!0,switchValue:d,onSwitchChange:c})]}),(0,A.jsxs)(D.default,{style:Fe.section,children:[(0,A.jsx)(O.default,{style:Fe.sectionTitle,children:"Data & Storage"}),(0,A.jsx)(p,{title:"Clear Cache",subtitle:"Remove cached data and favorites",onPress:h})]}),(0,A.jsxs)(D.default,{style:Fe.section,children:[(0,A.jsx)(O.default,{style:Fe.sectionTitle,children:"Legal & Privacy"}),(0,A.jsx)(p,{title:"Terms of Service",subtitle:"Read our terms and conditions",onPress:function(){return Se.default.alert("Terms of Service","Please visit our website or check the legal folder in the app documentation for the complete Terms of Service.")}}),(0,A.jsx)(p,{title:"Privacy Policy",subtitle:"How we protect your data",onPress:function(){return Se.default.alert("Privacy Policy","Please visit our website or check the legal folder in the app documentation for our complete Privacy Policy.")}}),(0,A.jsx)(p,{title:"App Version",subtitle:"2.0.0 - Pi Network Ready"})]}),(0,A.jsxs)(D.default,{style:Fe.section,children:[(0,A.jsx)(O.default,{style:Fe.sectionTitle,children:"Pi Network Integration"}),(0,A.jsx)(p,{title:"Connect Pi Wallet",subtitle:"Coming soon - Connect your Pi Network account",onPress:function(){return Se.default.alert("Coming Soon","Pi Network integration will be available when Pi Network launches their mainnet")}})]}),(0,A.jsx)(z.default,{style:Fe.logoutButton,onPress:function(){Se.default.alert("Logout","Are you sure you want to logout?",[{text:"Cancel",style:"cancel"},{text:"Logout",style:"destructive",onPress:g}])},children:(0,A.jsx)(O.default,{style:Fe.logoutText,children:"Logout"})})]})}var Fe=F.default.create({container:{flex:1,backgroundColor:"#1a1a1a"},header:{padding:20,borderBottomWidth:1,borderBottomColor:"#333"},headerTitle:{fontSize:24,fontWeight:"bold",color:"#fff",marginBottom:4},headerSubtitle:{fontSize:16,color:"#888"},section:{marginTop:20},sectionTitle:{fontSize:18,fontWeight:"bold",color:"#fff",marginBottom:10,marginHorizontal:20},settingItem:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:20,paddingVertical:15,backgroundColor:"#2a2a2a",marginHorizontal:20,marginBottom:2,borderRadius:8},settingContent:{flex:1},settingTitle:{fontSize:16,fontWeight:"500",color:"#fff",marginBottom:2},settingSubtitle:{fontSize:14,color:"#888"},logoutButton:{margin:20,padding:15,backgroundColor:"#333",borderRadius:10,alignItems:"center",marginTop:40},logoutText:{color:"#ff4444",fontSize:16,fontWeight:"bold"}}),Oe=(0,w.default)();function ke(){return(0,A.jsxs)(Oe.Navigator,{initialRouteName:"Home",screenOptions:{headerStyle:{backgroundColor:"#4CAF50"},headerTintColor:"#fff",headerTitleStyle:{fontWeight:"bold"}},children:[(0,A.jsx)(Oe.Screen,{name:"Home",component:Ee,options:{title:"\ud83c\udfb5 ChordsLegend"}}),(0,A.jsx)(Oe.Screen,{name:"Search",component:Ce,options:{title:"\ud83d\udd0d Search"}}),(0,A.jsx)(Oe.Screen,{name:"Settings",component:Ne,options:{title:"\u2699\ufe0f Settings"}}),(0,A.jsx)(Oe.Screen,{name:"ChordPlayer",component:ye,options:{title:"\ud83c\udfb8 Chord Player"}}),(0,A.jsx)(Oe.Screen,{name:"Library",component:Ie,options:{title:"\u2764\ufe0f My Favorites"}}),(0,A.jsx)(Oe.Screen,{name:"Auth",component:M,options:{title:"\ud83d\udd10 Sign In"}})]})}(0,n.default)(function(){var e=(0,l.useState)(!1),t=(0,a.default)(e,2),o=(t[0],t[1]);return(0,l.useEffect)(function(){var e=function(){var e=(0,i.default)(function*(){var e=v.isPiBrowser();if(o(e),e&&(console.log("ChordsLegend running in Pi Browser environment"),console.log("Sandbox mode:",v.SANDBOX_MODE),console.log("Environment:",v.ENVIRONMENT),"undefined"!==typeof window&&window.Pi))try{yield window.Pi.init({version:v.SDK_CONFIG.version,sandbox:v.SDK_CONFIG.sandbox}),console.log("Pi SDK initialized successfully")}catch(ze){console.error("Pi SDK initialization failed:",ze)}});return function(){return e.apply(this,arguments)}}();e()},[]),(0,A.jsx)(P,{children:(0,A.jsx)(s.default,{children:(0,A.jsx)(ke,{})})})})}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,o),i.exports}o.m=e,(()=>{var e=[];o.O=(t,r,n,i)=>{if(!r){var a=1/0;for(c=0;c<e.length;c++){for(var[r,n,i]=e[c],s=!0,l=0;l<r.length;l++)(!1&i||a>=i)&&Object.keys(o.O).every(e=>o.O[e](r[l]))?r.splice(l--,1):(s=!1,i<a&&(a=i));if(s){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[r,n,i]}})(),o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;o.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"===typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"===typeof r.then)return r}var i=Object.create(null);o.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&n&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,o.d(i,a),i}})(),o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={792:0};o.O.j=t=>0===e[t];var t=(t,r)=>{var n,i,[a,s,l]=r,d=0;if(a.some(t=>0!==e[t])){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(l)var c=l(o)}for(t&&t(r);d<a.length;d++)i=a[d],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(c)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=o.O(void 0,[273],()=>o(3470));r=o.O(r)})();
//# sourceMappingURL=main.8efc6c97.js.map